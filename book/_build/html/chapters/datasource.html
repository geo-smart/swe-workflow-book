
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Training and Testing Dataset Overview &#8212; Snow Water Equivalent Workflow</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapters/datasource';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="GridMET Climatology Data Downloader" href="gridmet.html" />
    <link rel="prev" title="Overview: Enhancing Snow Water Equivalent Forecasting Efficiency with PyGeoweaver" href="overview.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Snow Water Equivalent Workflow - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Snow Water Equivalent Workflow - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Chapter One</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="motivation.html">Motivation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Chapter Two</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview of the SWE Workflow</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Chapter Three</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Training and Testing Dataset Overview</a></li>











<li class="toctree-l1"><a class="reference internal" href="gridmet.html">GridMET Climatology Data Downloader</a></li>


<li class="toctree-l1"><a class="reference internal" href="snotel.html">SNOTEL</a></li>
<li class="toctree-l1"><a class="reference internal" href="fsCA.html">MODIS for fsCA</a></li>
<li class="toctree-l1"><a class="reference internal" href="dem.html">Digital Elevation Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="amsr.html">AMSR</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Chapter Four</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="feat_selection.html">Feature Selection</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Chapter Five</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="time_series.html">Cumulative Time series analysis</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Chapter Six</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="sanity_checks.html">Workflow Sanity Checks</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Chapter Seven</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="model_training.html">Model Training</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Chapter Eight</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="validation.html">Model Testing &amp; Validation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Chapter Nine</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="predictions.html">Model Predictions / Results</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Chapter Ten</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="conclusion.html">Conclusion</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../reference/glossary.html">Glossaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/bibliography.html">Bibliography</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/geo-smart/use_case_template/main?urlpath=lab/tree/book/chapters/datasource.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/geo-smart/use_case_template" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/geo-smart/use_case_template/edit/main/book/chapters/datasource.ipynb" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/geo-smart/use_case_template/issues/new?title=Issue%20on%20page%20%2Fchapters/datasource.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/chapters/datasource.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Training and Testing Dataset Overview</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Training and Testing Dataset Overview</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#gridmet-dataset">gridMET Dataset</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#insights">Insights</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#characteristics">Characteristics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-format">Data Format:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-sources-and-acquisition">Data Sources and Acquisition:</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#satellite-data">Satellite Data:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ground-based-observations">Ground-Based Observations:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#meteorological-models">Meteorological Models:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#applications">Applications:</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#gridmet-data-download">gridMET Data Download:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#amsr-dataset">AMSR Dataset</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-amsr">What is AMSR?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quick-look-at-the-data-collections">Quick Look at the Data Collections</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Characteristics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Data Format</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#amsr-data-collections">AMSR Data Collections</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#amsr-adeos-ii">AMSR/ADEOS-II</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#amsr2">AMSR2</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hosted-by-nsidc-daac">Hosted by NSIDC DAAC</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Applications</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#amsr-dataset-download">AMSR Dataset Download</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modis-dataset">MODIS Dataset</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-modis">What is MODIS?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Characteristics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Data Format</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modis-direct-broadcast">MODIS Direct Broadcast</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fsca">fSCA</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#snotel-dataset">SNOTEL dataset</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-snotel">What is SNOTEL?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#snotel-network-overview">SNOTEL Network Overview</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#composition-of-snotel">Composition of SNOTEL</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#operations-and-data-collection">Operations and Data Collection</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#telemetry-and-data-transmission">Telemetry and Data Transmission</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-collection-and-storage">Data Collection and Storage</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#enhanced-site-capabilities">Enhanced Site Capabilities</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">Characteristics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Data Format</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Applications</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#snotel-dataset-download-instructions">SNOTEL Dataset Download Instructions</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-navigate-to-the-scan-snowtel-website">Step 1: Navigate to the SCAN/SNOWTEL website</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-choose-data-product-and-location">Step 2: Choose Data Product and Location</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-view-inventory">Step 3: View Inventory</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-4-select-station-and-data">Step 4: Select Station and Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-5-download-data">Step 5: Download Data</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dem-dataset">DEM Dataset</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-dem-digital-elevation-model">Introduction to DEM (Digital Elevation Model):</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">Characteristics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Data Sources and Acquisition:</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#satellite-imagery">Satellite Imagery:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#aerial-lidar-light-detection-and-ranging">Aerial LiDAR (Light Detection and Ranging):</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topographic-surveys">Topographic Surveys:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">Applications:</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dem-data-download">DEM Data Download:</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="training-and-testing-dataset-overview">
<h1>Training and Testing Dataset Overview<a class="headerlink" href="#training-and-testing-dataset-overview" title="Link to this heading">#</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">#</a></h1>
<p>In the realm of environmental research and forecasting, access to reliable and comprehensive datasets is paramount. Four such indispensable sources are gridMET, AMSR, MODIS, and SNOTEL. Each dataset offers unique insights into various aspects of Earth’s climate and terrain, contributing significantly to our understanding of environmental dynamics. These datasets serve as the cornerstone for numerous applications, including weather forecasting, ecological modeling, and climate change research. In our <strong>snowcast_wormhole</strong> workflow, we leverage the richness of these datasets to enhance the accuracy and robustness. Let’s embark on a detailed exploration of these invaluable data sources.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="gridmet-dataset">
<h1>gridMET Dataset<a class="headerlink" href="#gridmet-dataset" title="Link to this heading">#</a></h1>
<section id="id1">
<h2>Introduction<a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<p>gridMET is like having a weather wizard at your fingertips! It’s a dataset packed with daily high-spatial resolution (~4-km, 1/24th degree) surface meteorological data covering the contiguous US, spanning from 1979 up to yesterday. It even extends its reach to cover southern British Columbia in real-time products. This dataset provides vital insights into weather patterns, aiding various industries and scientific endeavors.</p>
</section>
<section id="insights">
<h2>Insights<a class="headerlink" href="#insights" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>It offers a fascinating glimpse into historical weather patterns, allowing users to delve as far back as 1979.</p></li>
<li><p>The dataset provides an extensive array of information, including maximum and minimum temperatures, precipitation, radiation, wind velocity, and various other meteorological variables.</p></li>
<li><p>Scientists and modelers find it invaluable for a myriad of purposes, such as ecological research, agricultural strategizing, hydrological modeling, and beyond.</p></li>
</ul>
<br>
<div style="display: flex; justify-content: center;">
    <img src="../img/gridMet/tmmn_map.png" alt="air_temperature_tmmn Map" style="width: 30%; margin: 15px;">
    <img src="../img/gridMet/tmmx_map.png" alt="air_temperature_tmmx Map" style="width: 30%; margin: 15px;">
    <img src="../img/gridMet/evapotranspiration_map.png" alt="potential_evapotranspiration Map" style="width: 30%; margin: 15px;">
</div>
<br>
<div style="display: flex; justify-content: center;">
    <img src="../img/gridMet/mean_vapor_pressure_deficit_map.png" alt="mean_vapor_pressure_deficit" style="width: 30%; margin: 15px;">
    <img src="../img/gridMet/relative_humidity_rmax_map.png" alt="relative_humidity_rmax map" style="width: 30%; margin: 15px;">
    <img src="../img/gridMet/evapotranspiration_map.png" alt="relative_humidity_rmin map" style="width: 30%; margin: 15px;">
</div>
<br>
<div style="display: flex; justify-content: center;">
    <img src="../img/gridMet/precipitation_amount.png" alt="precipitation_amount Map" style="width: 30%; margin: 15px;">
    <img src="../img/gridMet/wind_speed_map.png" alt="wind_speed Map" style="width: 30%; margin: 15px;">
</div>
</section>
<section id="characteristics">
<h2>Characteristics<a class="headerlink" href="#characteristics" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>Spatial Resolution</strong>: GridMET provides data at a high spatial resolution, typically around 4 kilometers.</p></li>
<li><p><strong>Temporal Resolution</strong>: The dataset offers data at a daily time step, allowing access to meteorological data for each day.</p></li>
<li><p><strong>Variables</strong>: GridMET includes meteorological variables such as temperature, precipitation, humidity, wind speed, and solar radiation.</p></li>
<li><p><strong>Coverage</strong>: The dataset covers the contiguous United States, providing comprehensive meteorological data for this region.</p></li>
<li><p><strong>Quality</strong>: Data is derived from multiple sources including weather station observations, satellite data, and meteorological models, and is quality-controlled.</p></li>
<li><p><strong>Long-term Availability</strong>: GridMET provides data spanning several decades, enabling analysis of historical meteorological trends and patterns.</p></li>
</ul>
</section>
<section id="data-format">
<h2>Data Format:<a class="headerlink" href="#data-format" title="Link to this heading">#</a></h2>
<p>GRIDMET data is typically available in common file formats such as NetCDF (Network Common Data Form) or ASCII (plain text) format. NetCDF is widely used for multidimensional scientific data and provides efficient storage and access to large datasets. ASCII format offers simplicity and compatibility with various software tools for data analysis and visualization.</p>
</section>
<section id="data-sources-and-acquisition">
<h2>Data Sources and Acquisition:<a class="headerlink" href="#data-sources-and-acquisition" title="Link to this heading">#</a></h2>
<section id="satellite-data">
<h3>Satellite Data:<a class="headerlink" href="#satellite-data" title="Link to this heading">#</a></h3>
<p>GRIDMET utilizes satellite data from different sources such as the Geostationary Operational Environmental Satellite (GOES) and the Moderate Resolution Imaging Spectroradiometer (MODIS). These satellite observations provide valuable information on temperature, precipitation, humidity, and other atmospheric variables.</p>
</section>
<section id="ground-based-observations">
<h3>Ground-Based Observations:<a class="headerlink" href="#ground-based-observations" title="Link to this heading">#</a></h3>
<p>The dataset incorporates ground-based weather station observations from various networks such as the National Weather Service’s Cooperative Observer Program (COOP), the Automated Surface Observing System (ASOS), and the Automated Weather Data Network (AWDN). These observations help in validating and enhancing the accuracy of the dataset.</p>
</section>
<section id="meteorological-models">
<h3>Meteorological Models:<a class="headerlink" href="#meteorological-models" title="Link to this heading">#</a></h3>
<p>gridMET also integrates data from numerical weather prediction models like the North American Mesoscale Forecast System (NAM) and the Weather Research and Forecasting (WRF) model. These models provide forecasts and simulations of meteorological variables which are then blended with observed data to create a more complete dataset.</p>
</section>
</section>
<section id="applications">
<h2>Applications:<a class="headerlink" href="#applications" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Climate research and modeling</p></li>
<li><p>Agriculture and crop management</p></li>
<li><p>Hydrology and water resource management</p></li>
<li><p>Renewable energy assessment</p></li>
<li><p>Disaster management and risk assessment</p></li>
<li><p>Ecological and environmental studies</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="gridmet-data-download">
<h1>gridMET Data Download:<a class="headerlink" href="#gridmet-data-download" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">urllib.request</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">datetime</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="kn">import</span> <span class="nn">warnings</span>

<span class="c1">#Chaging the timeframe to 1 year, instead of 10, for demonstration</span>

<span class="n">train_start_date</span> <span class="o">=</span> <span class="s2">&quot;2020-01-03&quot;</span>
<span class="n">train_end_date</span> <span class="o">=</span> <span class="s2">&quot;2021-12-31&quot;</span>
<span class="n">homedir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">)</span>
<span class="n">work_dir</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">homedir</span><span class="si">}</span><span class="s2">/gridmet_test_run&quot;</span>

<span class="c1"># Suppress FutureWarnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">FutureWarning</span><span class="p">)</span>

<span class="n">start_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">train_start_date</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">end_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">train_end_date</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">year_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">start_date</span><span class="o">.</span><span class="n">year</span> <span class="o">+</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">end_date</span><span class="o">.</span><span class="n">year</span> <span class="o">-</span> <span class="n">start_date</span><span class="o">.</span><span class="n">year</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>

<span class="n">working_dir</span> <span class="o">=</span> <span class="n">work_dir</span>
<span class="n">stations</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">work_dir</span><span class="si">}</span><span class="s2">/all_snotel_cdec_stations_active_in_westus.csv&quot;</span><span class="p">)</span>
<span class="n">gridmet_save_location</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">working_dir</span><span class="si">}</span><span class="s1">/gridmet_climatology&#39;</span>
<span class="n">final_merged_csv</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">work_dir</span><span class="si">}</span><span class="s2">/training_all_active_snotel_station_list_elevation.csv_gridmet.csv&quot;</span>


<span class="k">def</span> <span class="nf">get_files_in_directory</span><span class="p">():</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">gridmet_save_location</span> <span class="o">+</span> <span class="s2">&quot;/*.nc&quot;</span><span class="p">):</span>
        <span class="n">f</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">files</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">f</span>


<span class="k">def</span> <span class="nf">download_file</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">save_location</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;download_file&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">response</span><span class="p">:</span>
            <span class="n">file_content</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="n">save_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">save_location</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">save_path</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">file_content</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;File downloaded successfully and saved as: </span><span class="si">{</span><span class="n">save_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An error occurred while downloading the file: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">download_gridmet_climatology</span><span class="p">():</span>
    <span class="n">folder_name</span> <span class="o">=</span> <span class="n">gridmet_save_location</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">folder_name</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">folder_name</span><span class="p">)</span>

    <span class="n">base_metadata_url</span> <span class="o">=</span> <span class="s2">&quot;http://www.northwestknowledge.net/metdata/data/&quot;</span>
    <span class="n">variables_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;tmmn&#39;</span><span class="p">,</span> <span class="s1">&#39;tmmx&#39;</span><span class="p">,</span> <span class="s1">&#39;pr&#39;</span><span class="p">,</span> <span class="s1">&#39;vpd&#39;</span><span class="p">,</span> <span class="s1">&#39;etr&#39;</span><span class="p">,</span> <span class="s1">&#39;rmax&#39;</span><span class="p">,</span> <span class="s1">&#39;rmin&#39;</span><span class="p">,</span> <span class="s1">&#39;vs&#39;</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">variables_list</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">year_list</span><span class="p">:</span>
            <span class="n">download_link</span> <span class="o">=</span> <span class="n">base_metadata_url</span> <span class="o">+</span> <span class="n">var</span> <span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">y</span> <span class="o">+</span> <span class="s1">&#39;.nc&#39;</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;downloading&quot;</span><span class="p">,</span> <span class="n">download_link</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder_name</span><span class="p">,</span> <span class="n">var</span> <span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">y</span> <span class="o">+</span> <span class="s1">&#39;.nc&#39;</span><span class="p">)):</span>
                <span class="n">download_file</span><span class="p">(</span><span class="n">download_link</span><span class="p">,</span> <span class="n">folder_name</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">get_gridmet_variable</span><span class="p">(</span><span class="n">file_name</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;reading values from </span><span class="si">{</span><span class="n">file_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">result_data</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
    <span class="n">var_to_extract</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">var_to_extract</span><span class="p">)</span>
    <span class="n">var_name</span> <span class="o">=</span> <span class="n">var_to_extract</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="s1">&#39;lat&#39;</span><span class="p">,</span> <span class="s1">&#39;lon&#39;</span><span class="p">,</span> <span class="n">var_name</span><span class="p">])</span>
    
    <span class="n">csv_file</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">gridmet_save_location</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">Path</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="si">}</span><span class="s1">.csv&#39;</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">csv_file</span><span class="p">):</span>
    	<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The file &#39;</span><span class="si">{</span><span class="n">csv_file</span><span class="si">}</span><span class="s2">&#39; exists.&quot;</span><span class="p">)</span>
    	<span class="k">return</span>

    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">stations</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="n">lat</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span>
        <span class="n">lon</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span>
		
        <span class="n">subset_data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="o">=</span><span class="n">lon</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
        <span class="n">subset_data</span><span class="p">[</span><span class="s1">&#39;lat&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lat</span>
        <span class="n">subset_data</span><span class="p">[</span><span class="s1">&#39;lon&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lon</span>
        <span class="n">converted_df</span> <span class="o">=</span> <span class="n">subset_data</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span>
        <span class="n">converted_df</span> <span class="o">=</span> <span class="n">converted_df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">converted_df</span> <span class="o">=</span> <span class="n">converted_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;crs&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">converted_df</span><span class="p">],</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        
    <span class="n">result_df</span> <span class="o">=</span> <span class="n">df</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;got result_df : &quot;</span><span class="p">,</span> <span class="n">result_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
    <span class="n">result_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">csv_file</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;completed extracting data for </span><span class="si">{</span><span class="n">file_name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">merge_similar_variables_from_different_years</span><span class="p">():</span>
    <span class="n">files</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">gridmet_save_location</span><span class="p">)</span>
    <span class="n">file_groups</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
        <span class="n">base_name</span><span class="p">,</span> <span class="n">year_ext</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">base_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">year_ext</span> <span class="o">==</span> <span class="s1">&#39;.csv&#39;</span><span class="p">:</span>
            <span class="n">file_groups</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">base_name</span><span class="p">,</span> <span class="n">file_list</span> <span class="ow">in</span> <span class="n">file_groups</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">file_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">dfs</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">file_list</span><span class="p">:</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">gridmet_save_location</span><span class="p">,</span> <span class="n">filename</span><span class="p">))</span>
                <span class="n">dfs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
            <span class="n">merged_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">dfs</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">merged_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_name</span><span class="si">}</span><span class="s2">_merged.csv&quot;</span>
            <span class="n">merged_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">gridmet_save_location</span><span class="p">,</span> <span class="n">merged_filename</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Merged </span><span class="si">{</span><span class="n">file_list</span><span class="si">}</span><span class="s2"> into </span><span class="si">{</span><span class="n">merged_filename</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">merge_all_variables_together</span><span class="p">():</span>
    <span class="n">merged_df</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">file_paths</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">gridmet_save_location</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;_merged.csv&quot;</span><span class="p">):</span>
            <span class="n">file_paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">gridmet_save_location</span><span class="p">,</span> <span class="n">filename</span><span class="p">))</span>
	
    <span class="n">rmin_merged_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">gridmet_save_location</span><span class="p">,</span> <span class="s1">&#39;rmin_merged.csv&#39;</span><span class="p">)</span>
    <span class="n">rmax_merged_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">gridmet_save_location</span><span class="p">,</span> <span class="s1">&#39;rmax_merged.csv&#39;</span><span class="p">)</span>
    <span class="n">tmmn_merged_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">gridmet_save_location</span><span class="p">,</span> <span class="s1">&#39;tmmn_merged.csv&#39;</span><span class="p">)</span>
    <span class="n">tmmx_merged_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">gridmet_save_location</span><span class="p">,</span> <span class="s1">&#39;tmmx_merged.csv&#39;</span><span class="p">)</span>
    
    <span class="n">df_rmin</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">rmin_merged_path</span><span class="p">)</span>
    <span class="n">df_rmax</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">rmax_merged_path</span><span class="p">)</span>
    <span class="n">df_tmmn</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">tmmn_merged_path</span><span class="p">)</span>
    <span class="n">df_tmmx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">tmmx_merged_path</span><span class="p">)</span>
    
    <span class="n">df_rmin</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;relative_humidity&#39;</span><span class="p">:</span> <span class="s1">&#39;relative_humidity_rmin&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">df_rmax</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;relative_humidity&#39;</span><span class="p">:</span> <span class="s1">&#39;relative_humidity_rmax&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">df_tmmn</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;air_temperature&#39;</span><span class="p">:</span> <span class="s1">&#39;air_temperature_tmmn&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">df_tmmx</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;air_temperature&#39;</span><span class="p">:</span> <span class="s1">&#39;air_temperature_tmmx&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
    <span class="n">df_rmin</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">gridmet_save_location</span><span class="p">,</span> <span class="s1">&#39;rmin_merged.csv&#39;</span><span class="p">))</span>
    <span class="n">df_rmax</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">gridmet_save_location</span><span class="p">,</span> <span class="s1">&#39;rmax_merged.csv&#39;</span><span class="p">))</span>
    <span class="n">df_tmmn</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">gridmet_save_location</span><span class="p">,</span> <span class="s1">&#39;tmmn_merged.csv&#39;</span><span class="p">))</span>
    <span class="n">df_tmmx</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">gridmet_save_location</span><span class="p">,</span> <span class="s1">&#39;tmmx_merged.csv&#39;</span><span class="p">))</span>
    
    <span class="k">if</span> <span class="n">file_paths</span><span class="p">:</span>
        <span class="n">merged_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_paths</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">file_paths</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
            <span class="n">merged_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">merged_df</span><span class="p">,</span> <span class="n">df</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">merged_df</span> <span class="o">=</span> <span class="n">merged_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="o">~</span><span class="n">merged_df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()]</span>
        <span class="n">merged_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">final_merged_csv</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    
    <span class="n">download_gridmet_climatology</span><span class="p">()</span>
    
    <span class="n">nc_files</span> <span class="o">=</span> <span class="n">get_files_in_directory</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">nc</span> <span class="ow">in</span> <span class="n">nc_files</span><span class="p">:</span>
        <span class="n">get_gridmet_variable</span><span class="p">(</span><span class="n">nc</span><span class="p">)</span>
    
    <span class="n">merge_similar_variables_from_different_years</span><span class="p">()</span>
    <span class="n">merge_all_variables_together</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>downloading http://www.northwestknowledge.net/metdata/data/tmmn_2020.nc
downloading http://www.northwestknowledge.net/metdata/data/tmmn_2021.nc
downloading http://www.northwestknowledge.net/metdata/data/tmmx_2020.nc
downloading http://www.northwestknowledge.net/metdata/data/tmmx_2021.nc
downloading http://www.northwestknowledge.net/metdata/data/pr_2020.nc
downloading http://www.northwestknowledge.net/metdata/data/pr_2021.nc
downloading http://www.northwestknowledge.net/metdata/data/vpd_2020.nc
downloading http://www.northwestknowledge.net/metdata/data/vpd_2021.nc
downloading http://www.northwestknowledge.net/metdata/data/etr_2020.nc
downloading http://www.northwestknowledge.net/metdata/data/etr_2021.nc
downloading http://www.northwestknowledge.net/metdata/data/rmax_2020.nc
downloading http://www.northwestknowledge.net/metdata/data/rmax_2021.nc
downloading http://www.northwestknowledge.net/metdata/data/rmin_2020.nc
downloading http://www.northwestknowledge.net/metdata/data/rmin_2021.nc
downloading http://www.northwestknowledge.net/metdata/data/vs_2020.nc
downloading http://www.northwestknowledge.net/metdata/data/vs_2021.nc
reading values from /Users/meghana/gridmet_test_run/gridmet_climatology/rmin_2021.nc
[&#39;relative_humidity&#39;]
The file &#39;/Users/meghana/gridmet_test_run/gridmet_climatology/rmin_2021.csv&#39; exists.
reading values from /Users/meghana/gridmet_test_run/gridmet_climatology/tmmn_2021.nc
[&#39;air_temperature&#39;]
The file &#39;/Users/meghana/gridmet_test_run/gridmet_climatology/tmmn_2021.csv&#39; exists.
reading values from /Users/meghana/gridmet_test_run/gridmet_climatology/etr_2021.nc
[&#39;potential_evapotranspiration&#39;]
The file &#39;/Users/meghana/gridmet_test_run/gridmet_climatology/etr_2021.csv&#39; exists.
reading values from /Users/meghana/gridmet_test_run/gridmet_climatology/etr_2020.nc
[&#39;potential_evapotranspiration&#39;]
The file &#39;/Users/meghana/gridmet_test_run/gridmet_climatology/etr_2020.csv&#39; exists.
reading values from /Users/meghana/gridmet_test_run/gridmet_climatology/rmin_2020.nc
[&#39;relative_humidity&#39;]
The file &#39;/Users/meghana/gridmet_test_run/gridmet_climatology/rmin_2020.csv&#39; exists.
reading values from /Users/meghana/gridmet_test_run/gridmet_climatology/tmmn_2020.nc
[&#39;air_temperature&#39;]
The file &#39;/Users/meghana/gridmet_test_run/gridmet_climatology/tmmn_2020.csv&#39; exists.
reading values from /Users/meghana/gridmet_test_run/gridmet_climatology/tmmx_2021.nc
[&#39;air_temperature&#39;]
The file &#39;/Users/meghana/gridmet_test_run/gridmet_climatology/tmmx_2021.csv&#39; exists.
reading values from /Users/meghana/gridmet_test_run/gridmet_climatology/tmmx_2020.nc
[&#39;air_temperature&#39;]
The file &#39;/Users/meghana/gridmet_test_run/gridmet_climatology/tmmx_2020.csv&#39; exists.
reading values from /Users/meghana/gridmet_test_run/gridmet_climatology/vpd_2020.nc
[&#39;mean_vapor_pressure_deficit&#39;]
The file &#39;/Users/meghana/gridmet_test_run/gridmet_climatology/vpd_2020.csv&#39; exists.
reading values from /Users/meghana/gridmet_test_run/gridmet_climatology/pr_2021.nc
[&#39;precipitation_amount&#39;]
The file &#39;/Users/meghana/gridmet_test_run/gridmet_climatology/pr_2021.csv&#39; exists.
reading values from /Users/meghana/gridmet_test_run/gridmet_climatology/pr_2020.nc
[&#39;precipitation_amount&#39;]
The file &#39;/Users/meghana/gridmet_test_run/gridmet_climatology/pr_2020.csv&#39; exists.
reading values from /Users/meghana/gridmet_test_run/gridmet_climatology/vpd_2021.nc
[&#39;mean_vapor_pressure_deficit&#39;]
The file &#39;/Users/meghana/gridmet_test_run/gridmet_climatology/vpd_2021.csv&#39; exists.
reading values from /Users/meghana/gridmet_test_run/gridmet_climatology/vs_2021.nc
[&#39;wind_speed&#39;]
The file &#39;/Users/meghana/gridmet_test_run/gridmet_climatology/vs_2021.csv&#39; exists.
reading values from /Users/meghana/gridmet_test_run/gridmet_climatology/rmax_2020.nc
[&#39;relative_humidity&#39;]
The file &#39;/Users/meghana/gridmet_test_run/gridmet_climatology/rmax_2020.csv&#39; exists.
reading values from /Users/meghana/gridmet_test_run/gridmet_climatology/vs_2020.nc
[&#39;wind_speed&#39;]
The file &#39;/Users/meghana/gridmet_test_run/gridmet_climatology/vs_2020.csv&#39; exists.
reading values from /Users/meghana/gridmet_test_run/gridmet_climatology/rmax_2021.nc
[&#39;relative_humidity&#39;]
The file &#39;/Users/meghana/gridmet_test_run/gridmet_climatology/rmax_2021.csv&#39; exists.
Merged [&#39;tmmn_2020.csv&#39;, &#39;tmmn_2021.csv&#39;, &#39;tmmn_merged.csv&#39;] into tmmn_merged.csv
Merged [&#39;vs_merged.csv&#39;, &#39;vs_2020.csv&#39;, &#39;vs_2021.csv&#39;] into vs_merged.csv
Merged [&#39;rmax_merged.csv&#39;, &#39;rmax_2020.csv&#39;, &#39;rmax_2021.csv&#39;] into rmax_merged.csv
Merged [&#39;etr_merged.csv&#39;, &#39;etr_2020.csv&#39;, &#39;etr_2021.csv&#39;] into etr_merged.csv
Merged [&#39;vpd_merged.csv&#39;, &#39;vpd_2020.csv&#39;, &#39;vpd_2021.csv&#39;] into vpd_merged.csv
Merged [&#39;tmmx_2021.csv&#39;, &#39;tmmx_2020.csv&#39;, &#39;tmmx_merged.csv&#39;] into tmmx_merged.csv
Merged [&#39;pr_2021.csv&#39;, &#39;pr_2020.csv&#39;, &#39;pr_merged.csv&#39;] into pr_merged.csv
Merged [&#39;rmin_2021.csv&#39;, &#39;rmin_merged.csv&#39;, &#39;rmin_2020.csv&#39;] into rmin_merged.csv
</pre></div>
</div>
</div>
</div>
<p>We acquire and consolidate GridMET climate data. Initially, we download GridMET climate data files for specified variables and years, ensuring comprehensive coverage. Subsequently, we extract data for each station from these files and organize it into CSV format, simplifying data handling. Additionally, we intelligently merge similar variables from different years, streamlining data aggregation. Ultimately, we combine all variables into a unified dataset, facilitating seamless analysis or modeling tasks. This automation enhances efficiency and accuracy in climate data processing, benefiting various research or environmental applications.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="amsr-dataset">
<h1>AMSR Dataset<a class="headerlink" href="#amsr-dataset" title="Link to this heading">#</a></h1>
<section id="id2">
<h2>Introduction<a class="headerlink" href="#id2" title="Link to this heading">#</a></h2>
<section id="what-is-amsr">
<h3>What is AMSR?<a class="headerlink" href="#what-is-amsr" title="Link to this heading">#</a></h3>
<p>AMSR, short for Advanced Microwave Scanning Radiometer is a satellite-based instrument designed to measure microwave emissions from the Earth’s surface and atmosphere. The AMSR dataset encompasses satellite-derived microwave observations crucial for a myriad of applications including weather forecasting, climate monitoring, and environmental studies. These datasets provide valuable insights into geophysical parameters such as sea surface temperature, soil moisture, sea ice concentration, precipitation, and wind speed over oceans. By collecting data on these factors, AMSR helps scientists better understand how water moves and behaves across the planet. Its observations provide valuable insights into Earth’s climate dynamics and hydrological processes, contributing to our overall understanding of the environment.</p>
</section>
<section id="quick-look-at-the-data-collections">
<h3>Quick Look at the Data Collections<a class="headerlink" href="#quick-look-at-the-data-collections" title="Link to this heading">#</a></h3>
<p>AMSR-E, or the Advanced Microwave Scanning Radiometer for the Earth Observing System, is like a high-tech detective tool that travels on NASA’s Aqua satellite. It gathers information about water on Earth and other important details about our environment. AMSR-E data collections include AMSR/ADEOS-II and AMSR2, hosted by the National Snow and Ice Data Center Distributed Active Archive Center (NSIDC DAAC). These datasets provide a treasure trove of polar observations, facilitating research in climatology, oceanography, hydrology, and more.</p>
</section>
</section>
<section id="id3">
<h2>Characteristics<a class="headerlink" href="#id3" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>Spatial Resolution</strong>: AMSR provides data at various spatial resolutions depending on the specific instrument version and product. Typically, it offers moderate to high spatial resolution microwave data.</p></li>
<li><p><strong>Temporal Resolution</strong>: AMSR data is available at various temporal resolutions, ranging from daily to monthly, depending on the specific product and parameters.</p></li>
<li><p><strong>Variables</strong>: AMSR measures various parameters such as soil moisture, sea surface temperature, precipitation, snow water equivalent, and sea ice concentration using microwave radiometry.</p></li>
<li><p><strong>Coverage</strong>: AMSR provides global coverage, allowing for the monitoring of environmental parameters across different regions of the Earth.</p></li>
<li><p><strong>Quality</strong>: Data from AMSR undergoes rigorous quality control processes to ensure accuracy and reliability, considering factors such as calibration and validation against ground-based measurements.</p></li>
</ul>
<p align="center">
  <img src="https://developers.google.com/earth-engine/datasets/images/TRMM/TRMM_3B43V7_sample.png" alt="Sample Image from TRMM_3B43V7 dataset" width="400">
</p>
<p align="center">AMSR from TRMM 3B43V7 dataset</p>
</section>
<section id="id4">
<h2>Data Format<a class="headerlink" href="#id4" title="Link to this heading">#</a></h2>
<p>The Advanced Microwave Scanning Radiometer (AMSR) data is commonly stored in HDF5 format, providing a hierarchical structure for organizing datasets such as brightness temperature, sea surface temperature, and soil moisture. Within the HDF5 file, data parameters are organized into groups, with subgroups representing different configurations or subsets of the data. Metadata and geolocation information are typically stored separately, offering additional details about the data.</p>
</section>
<section id="amsr-data-collections">
<h2>AMSR Data Collections<a class="headerlink" href="#amsr-data-collections" title="Link to this heading">#</a></h2>
<section id="amsr-adeos-ii">
<h3>AMSR/ADEOS-II<a class="headerlink" href="#amsr-adeos-ii" title="Link to this heading">#</a></h3>
<p>AMS/ADEOS-II, operating on the Advanced Earth Observing Satellite-II (ADEOS-II) platform, was the initial version of the AMSR instrument, providing passive microwave measurements from early 2003 to October 24, 2003. Offering Level-1A and Level-2A products, it served as a crucial tool for studying changes in polar ice caps, global precipitation patterns, and oceanic circulation. This data has been instrumental in enhancing our understanding of Earth’s climate dynamics and informing research across various scientific disciplines.</p>
</section>
<section id="amsr2">
<h3>AMSR2<a class="headerlink" href="#amsr2" title="Link to this heading">#</a></h3>
<p>AMSR2, launched in 2012 onboard the Global Change Observation Mission-Water (GCOM-W1) satellite, represents the next generation of AMSR instruments. It continues the legacy of AMSR-E, capturing observations with improved spatial resolution and enhanced capabilities. AMSR2 data has been instrumental in monitoring sea ice extent, ocean surface winds, and soil moisture dynamics at global scales.</p>
</section>
<section id="hosted-by-nsidc-daac">
<h3>Hosted by NSIDC DAAC<a class="headerlink" href="#hosted-by-nsidc-daac" title="Link to this heading">#</a></h3>
<p>The NSIDC DAAC serves as the primary repository for AMSR-related data, ensuring that these valuable datasets are freely accessible to the scientific community and the public. The center provides data discovery, access, and user support services, facilitating research in cryospheric and hydrological sciences, climate modeling, and environmental monitoring.</p>
</section>
</section>
<section id="id5">
<h2>Applications<a class="headerlink" href="#id5" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p><strong>Weather Forecasting</strong>: AMSR data aids in short-term weather forecasting by providing insights into atmospheric moisture content and precipitation patterns.</p></li>
<li><p><strong>Climate Monitoring</strong>: AMSR datasets contribute to long-term climate monitoring efforts by providing data on parameters like sea surface temperature and sea ice concentration.</p></li>
<li><p><strong>Oceanography</strong>: AMSR data enables the study of ocean surface properties such as sea surface temperature, wind speed, and ocean salinity, facilitating research in oceanography and marine science.</p></li>
<li><p><strong>Hydrology</strong>: AMSR-derived soil moisture data supports hydrological modeling, drought monitoring, and water resource management by providing information on soil moisture content and surface water availability.</p></li>
<li><p><strong>Cryosphere Studies</strong>: AMSR datasets are crucial for studying the cryosphere, including monitoring changes in snow cover extent, snow water equivalent, and sea ice concentration, contributing to our understanding of climate change impacts in polar regions.</p></li>
</ol>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="amsr-dataset-download">
<h1>AMSR Dataset Download<a class="headerlink" href="#amsr-dataset-download" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="k">def</span> <span class="nf">generate_links</span><span class="p">(</span><span class="n">start_year</span><span class="p">,</span> <span class="n">end_year</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Generate a list of download links for AMSR daily snow data files.</span>

<span class="sd">    Args:</span>
<span class="sd">        start_year (int): The starting year.</span>
<span class="sd">        end_year (int): The ending year (inclusive).</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: A list of download links for AMSR daily snow data files.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://n5eil01u.ecs.nsidc.org/AMSA/AU_DySno.001/&quot;</span>
    <span class="n">date_format</span> <span class="o">=</span> <span class="s2">&quot;%Y.%m.</span><span class="si">%d</span><span class="s2">&quot;</span>
    <span class="n">delta</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">start_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="n">start_year</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">end_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="n">end_year</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="n">links</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">current_date</span> <span class="o">=</span> <span class="n">start_date</span>

    <span class="k">while</span> <span class="n">current_date</span> <span class="o">&lt;</span> <span class="n">end_date</span><span class="p">:</span>
        <span class="n">date_str</span> <span class="o">=</span> <span class="n">current_date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span>
        <span class="n">link</span> <span class="o">=</span> <span class="n">base_url</span> <span class="o">+</span> <span class="n">date_str</span> <span class="o">+</span> <span class="s2">&quot;/AMSR_U2_L3_DailySnow_B02_&quot;</span> <span class="o">+</span> <span class="n">date_str</span> <span class="o">+</span> <span class="s2">&quot;.he5&quot;</span>
        <span class="n">links</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>
        <span class="n">current_date</span> <span class="o">+=</span> <span class="n">delta</span>

    <span class="k">return</span> <span class="n">links</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">start_year</span> <span class="o">=</span> <span class="mi">2019</span>
    <span class="n">end_year</span> <span class="o">=</span> <span class="mi">2022</span>

    <span class="n">links</span> <span class="o">=</span> <span class="n">generate_links</span><span class="p">(</span><span class="n">start_year</span><span class="p">,</span> <span class="n">end_year</span><span class="p">)</span>
    <span class="n">homedir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">)</span>
    <span class="n">working_dir</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">homedir</span><span class="si">}</span><span class="s2">/gridmet_test_run&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">working_dir</span><span class="si">}</span><span class="s2">/amsr/download_links.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">txt_file</span><span class="p">:</span>
      <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">links</span><span class="p">:</span>
        <span class="n">txt_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="modis-dataset">
<h1>MODIS Dataset<a class="headerlink" href="#modis-dataset" title="Link to this heading">#</a></h1>
<section id="id6">
<h2>Introduction<a class="headerlink" href="#id6" title="Link to this heading">#</a></h2>
<section id="what-is-modis">
<h3>What is MODIS?<a class="headerlink" href="#what-is-modis" title="Link to this heading">#</a></h3>
<p>MODIS, which stands for MODerate Resolution Imaging Spectroradiometer, is an advanced instrument operating aboard both the Terra and Aqua spacecraft. It captures a comprehensive view of Earth’s surface, oceans, and atmosphere. The MODIS dataset is a comprehensive collection of Earth observation data captured by the MODIS instruments. Scientists use MODIS data to track changes in things like land cover, weather patterns, ice and snow, and the color of the oceans. MODIS boasts a remarkable viewing swath width of 2,330 km and covers the entire Earth surface every one to two days. With 36 spectral bands ranging from 0.405 to 14.385 µm, it provides detailed data at three spatial resolutions: 250m, 500m, and 1,000m.</p>
</section>
</section>
<section id="id7">
<h2>Characteristics<a class="headerlink" href="#id7" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>Spatial Resolution</strong>: MODIS provides data at moderate spatial resolutions ranging from 250 meters to 1 kilometer, depending on the specific product and spectral band.</p></li>
<li><p><strong>Temporal Resolution</strong>: MODIS offers daily global coverage, providing data at a high temporal resolution suitable for monitoring dynamic environmental processes.</p></li>
<li><p><strong>Variables</strong>: MODIS measures various Earth surface parameters including land cover, land surface temperature, vegetation indices, fire occurrence, ocean color, and atmospheric properties.</p></li>
<li><p><strong>Coverage</strong>: MODIS provides global coverage, capturing data over land, ocean, and atmosphere, facilitating multi-disciplinary Earth observation studies.</p></li>
<li><p><strong>Quality</strong>: MODIS data undergoes extensive calibration and validation processes to ensure accuracy and reliability, with quality flags provided to identify potential data anomalies.</p></li>
</ul>
<p align="center">
  <img src="https://developers.google.com/earth-engine/datasets/images/YALE/YALE_YCEO_UHI_Summer_UHI_yearly_pixel_v4_sample.png" alt="Sample Image from YALE_YCEO_UHI dataset" width="400">
</p>
<p align="center">MODIS from YALE YCEO UHI dataset</p>
</section>
<section id="id8">
<h2>Data Format<a class="headerlink" href="#id8" title="Link to this heading">#</a></h2>
<p>MODIS data are typically available in Hierarchical Data Format (HDF) or NetCDF formats, which are widely used for storing and distributing Earth observation data. These formats facilitate efficient data access, manipulation, and analysis using various software tools and programming languages commonly employed in the Earth sciences community.</p>
</section>
<section id="modis-direct-broadcast">
<h2>MODIS Direct Broadcast<a class="headerlink" href="#modis-direct-broadcast" title="Link to this heading">#</a></h2>
<p>Users with x-band receiving systems can capture regional data directly from the spacecraft using the MODIS Direct Broadcast signal, enhancing real-time monitoring capabilities.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="fsca">
<h1>fSCA<a class="headerlink" href="#fsca" title="Link to this heading">#</a></h1>
<p>Fractional Snow Covered Area (fSCA) is a metric used in the field of snow science and environmental studies to quantify the proportion of a given area that is covered by snow. It is derived from remote sensing data, particularly from sensors like Landsat, which capture images of the Earth’s surface in various spectral bands. By analyzing these images, researchers can differentiate between snow-covered and snow-free areas, allowing them to calculate the percentage of the landscape covered by snow at a particular point in time. fSCA is valuable for understanding snow distribution patterns, monitoring changes in snow cover over time, and aiding in snowmelt and water resource management. It plays a crucial role in snowpack modeling, avalanche forecasting, and climate change research, providing essential data for informing decision-making processes related to snow-dependent ecosystems and human activities.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="snotel-dataset">
<h1>SNOTEL dataset<a class="headerlink" href="#snotel-dataset" title="Link to this heading">#</a></h1>
<section id="id9">
<h2>Introduction<a class="headerlink" href="#id9" title="Link to this heading">#</a></h2>
<section id="what-is-snotel">
<h3>What is SNOTEL?<a class="headerlink" href="#what-is-snotel" title="Link to this heading">#</a></h3>
<p>The SNOwpackTELemetryNetwork (SNOTEL) is an automated system of snowpack and climate sensors managed by the Natural Resources Conservation Service (NRCS) in the Western United States, offering critical data for water supply forecasting, flood prediction, and climate research. SNOTEL provides real-time data on snow water equivalent, snow depth, precipitation, and temperature from remote mountainous regions, aiding in understanding hydroclimatic conditions. SNOTEL offers comprehensive snowpack and climate data from over 900 sites, helping monitor snowpack, precipitation, temperature, and other climatic conditions in the western U.S.The SNOTEL dataset serves as a valuable resource for a wide range of stakeholders, contributing to informed decision-making in various sectors impacted by snowpack and climate conditions.</p>
</section>
</section>
<section id="snotel-network-overview">
<h2>SNOTEL Network Overview<a class="headerlink" href="#snotel-network-overview" title="Link to this heading">#</a></h2>
<section id="composition-of-snotel">
<h3>Composition of SNOTEL<a class="headerlink" href="#composition-of-snotel" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Comprising over 900 automated sites in remote, high-elevation mountain watersheds.</p></li>
<li><p>Monitors snowpack, precipitation, temperature, and other climatic parameters.</p></li>
</ul>
</section>
<section id="operations-and-data-collection">
<h3>Operations and Data Collection<a class="headerlink" href="#operations-and-data-collection" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Sites operate unattended and without maintenance for extended periods.</p></li>
<li><p>Standard sensor configuration includes snow pillow, precipitation gauge, and temperature sensors.</p></li>
</ul>
</section>
</section>
<section id="telemetry-and-data-transmission">
<h2>Telemetry and Data Transmission<a class="headerlink" href="#telemetry-and-data-transmission" title="Link to this heading">#</a></h2>
<section id="data-collection-and-storage">
<h3>Data Collection and Storage<a class="headerlink" href="#data-collection-and-storage" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Dataloggers installed in equipment shelters collect and store data.</p></li>
<li><p>Various telemetry systems transmit data back to the Water and Climate Information System.</p></li>
</ul>
</section>
<section id="enhanced-site-capabilities">
<h3>Enhanced Site Capabilities<a class="headerlink" href="#enhanced-site-capabilities" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Enhanced sites equipped with soil moisture, soil temperature, solar radiation, wind speed, and relative humidity sensors.</p></li>
<li><p>Tailored configurations based on physical conditions and climate requirements.</p></li>
</ul>
</section>
</section>
<section id="id10">
<h2>Characteristics<a class="headerlink" href="#id10" title="Link to this heading">#</a></h2>
<p><strong>Spatial Resolution</strong>: SNOTEL provides data at a network of monitoring sites distributed across mountainous regions, typically covering areas with varying spatial resolutions depending on the density of monitoring stations.</p>
<p><strong>Temporal Resolution</strong>: SNOTEL data is typically collected at hourly intervals, providing high temporal resolution data for monitoring snowpack conditions and related hydrological variables.</p>
<p><strong>Variables</strong>: SNOTEL measures snow water equivalent, snow depth, temperature, precipitation, and soil moisture at monitoring sites in mountainous regions.</p>
<p><strong>Coverage</strong>: SNOTEL stations are primarily located in the western United States, covering areas with significant snowpack and water resource management importance.</p>
<p><strong>Quality</strong>: SNOTEL data undergoes quality control procedures to ensure accuracy and reliability, including calibration checks and validation against manual measurements.</p>
</section>
<section id="id11">
<h2>Data Format<a class="headerlink" href="#id11" title="Link to this heading">#</a></h2>
<p>The Snow Telemetry (SNOTEL) data format encompasses structured datasets collected from remote automated stations situated in mountainous regions, monitoring snowpack, weather, and hydrological parameters. Key aspects include recorded parameters such as snow water equivalent (SWE), snow depth, air temperature, and precipitation, timestamped to denote observation times and often stored at varying resolutions like hourly or daily intervals. Quality control flags accompany data points to denote reliability, while metadata provides station details and sensor calibration information. SNOTEL data is commonly stored in formats like CSV, TSV, HDF5, or netCDF, accessible through agency websites, data portals, or APIs. This format facilitates applications spanning water resource management, climate research, agriculture, recreation, hydrological modeling, and ecological studies.</p>
<p align="center">
  <img src="https://www.climate.gov/sites/default/files/2021-08/DatasetGallery_Snow-Water-Equivalent-in-Western-Basins-Interactive-Graph_thumb_16x9.png" alt="Snow Water Equivalent in Western Basins" width="600">
</p>
<p align="center">Snow Water Equivalent in Western Basins</p>
<br>
<p align="center">
   <img src="../img/SNOTEL.jpeg" alt="Snow Water Equivalent Percent NRCS 1991-2020 Median April 6 2024" width="600" align="center">
</p>
<p align="center">Snow Water Equivalent Percent NRCS 1991-2020 Median April 6 2024</p>
</section>
<section id="id12">
<h2>Applications<a class="headerlink" href="#id12" title="Link to this heading">#</a></h2>
<p><strong>Water Resource Management</strong>:</p>
<ul class="simple">
<li><p><em>Snowpack Monitoring</em>: Assessing snowpack depth and SWE helps in forecasting water availability for irrigation, hydropower generation, and municipal water supply.</p></li>
<li><p><em>Runoff Forecasting</em>: Data from SNOTEL stations aids in predicting spring runoff, facilitating reservoir management and flood control.</p></li>
</ul>
<p><strong>Climate Research</strong>:</p>
<ul class="simple">
<li><p><em>Long-term Climate Trends</em>: Historical data enables researchers to study long-term climate patterns, including changes in snowfall, temperature, and precipitation.</p></li>
<li><p><em>Climate Change Studies</em>: SNOTEL data is utilized to understand the impacts of climate change on snowpack dynamics, water resources, and ecosystems.</p></li>
</ul>
<p><strong>Agriculture and Forestry</strong>:</p>
<ul class="simple">
<li><p><em>Crop Planning</em>: Farmers use snowpack data to anticipate water availability during the growing season, aiding in crop planning and irrigation scheduling.</p></li>
<li><p><em>Forest Management</em>: Forestry agencies utilize SNOTEL data for assessing wildfire risk, planning timber harvests, and monitoring forest health.</p></li>
</ul>
<p><strong>Recreation and Tourism</strong>:</p>
<ul class="simple">
<li><p><em>Winter Sports Planning</em>: Ski resorts and recreational outfitters rely on snowpack data for planning activities such as skiing, snowboarding, and snowmobiling.</p></li>
<li><p><em>Summer Recreation</em>: Understanding snowmelt timing and water availability helps in planning summer recreational activities like hiking, fishing, and camping.</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="snotel-dataset-download-instructions">
<h1>SNOTEL Dataset Download Instructions<a class="headerlink" href="#snotel-dataset-download-instructions" title="Link to this heading">#</a></h1>
<p>Because snow has a higher albedo than most other land cover types, it can cause the seasonal changes in the albedo of a landscape to be quite dramatic. The Soil Climate Analysis Network (SCAN) and the SNOwpack TELemetry (SNOWTEL) network provide snow depth and snow water equivalent (the amount of water contained in a snowpack) data for many sites across the United States.</p>
<section id="step-1-navigate-to-the-scan-snowtel-website">
<h2>Step 1: Navigate to the SCAN/SNOWTEL website<a class="headerlink" href="#step-1-navigate-to-the-scan-snowtel-website" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Visit the <a class="reference external" href="http://www.wcc.nrcs.usda.gov/nwcc/inventory">SCAN/SNOWTEL Website</a>.</p></li>
</ul>
</section>
<section id="step-2-choose-data-product-and-location">
<h2>Step 2: Choose Data Product and Location<a class="headerlink" href="#step-2-choose-data-product-and-location" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Select the data product you are interested in (e.g., Snow Depth or Snow Water Equivalent) from the drop-down menu under <em>Element</em>.</p></li>
<li><p>Choose a State/County or Basin using the drop-down menus provided.</p></li>
</ul>
</section>
<section id="step-3-view-inventory">
<h2>Step 3: View Inventory<a class="headerlink" href="#step-3-view-inventory" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Click on ‘View Inventory’ to see available stations in your selected area.</p>
<ul>
<li><p>If no results are returned, consider widening your search.</p></li>
</ul>
</li>
</ul>
</section>
<section id="step-4-select-station-and-data">
<h2>Step 4: Select Station and Data<a class="headerlink" href="#step-4-select-station-and-data" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Click ‘View’ next to the station of interest to access its page.</p></li>
<li><p>Use the table to select the data you need:</p>
<ul>
<li><p>Choose the data product (Snow Depth or Snow Water Equivalent).</p></li>
<li><p>Select ‘Daily’ in the Time Series column.</p></li>
<li><p>Choose the format (‘chart’ for visualization or ‘csv’ for download).</p></li>
<li><p>View current data by selecting the desired time frame in the yellow column and clicking ‘View Current’, or view historic data by selecting the year and time in the green column and clicking ‘View Historic’.</p></li>
</ul>
</li>
</ul>
</section>
<section id="step-5-download-data">
<h2>Step 5: Download Data<a class="headerlink" href="#step-5-download-data" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Save the downloaded CSV file to your computer for further analysis.</p></li>
</ul>
<p><strong>For map visualization of SNOWTEL stations, click on ‘SNOWTEL data’ under ‘Climate Monitoring’ in the right panel. The maps are clickable for station selection.</strong></p>
<p>For more information, visit the <a class="reference external" href="https://www.nrcs.usda.gov/wps/portal/wcc/home/aboutUs/monitoringPrograms/automatedSnowMonitoring">NRCS SNOTEL page</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># First Python script in Geoweaver</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">urllib.request</span><span class="o">,</span> <span class="nn">urllib.error</span><span class="o">,</span> <span class="nn">urllib.parse</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">BeautifulSoup</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="n">nohrsc_url_format_string</span> <span class="o">=</span> <span class="s2">&quot;https://www.nohrsc.noaa.gov/nearest/index.html?city=</span><span class="si">{lat}</span><span class="s2">%2C</span><span class="si">{lon}</span><span class="s2">&amp;county=&amp;l=5&amp;u=e&amp;y=</span><span class="si">{year}</span><span class="s2">&amp;m=</span><span class="si">{month}</span><span class="s2">&amp;d=</span><span class="si">{day}</span><span class="s2">&quot;</span>

<span class="n">test_noaa_query_url</span> <span class="o">=</span> <span class="n">nohrsc_url_format_string</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">40.05352381745094</span><span class="p">,</span> <span class="n">lon</span><span class="o">=-</span><span class="mf">106.04027196859343</span><span class="p">,</span> <span class="n">year</span><span class="o">=</span><span class="mi">2022</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">test_noaa_query_url</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">test_noaa_query_url</span><span class="p">)</span>
<span class="n">webContent</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">webContent</span><span class="p">)</span>

<span class="n">parsed_html</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">webContent</span><span class="p">)</span>
<span class="n">container_div</span> <span class="o">=</span> <span class="n">parsed_html</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span><span class="s1">&#39;container&#39;</span><span class="p">})</span>

<span class="k">if</span> <span class="n">container_div</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">container_div</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Container div not found&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">container_div</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;/Users/meghana/Documents/swe-workflow-book/book/chapters&#39;, &#39;/Users/meghana&#39;, &#39;/opt/anaconda3/lib/python311.zip&#39;, &#39;/opt/anaconda3/lib/python3.11&#39;, &#39;/opt/anaconda3/lib/python3.11/lib-dynload&#39;, &#39;&#39;, &#39;/Users/meghana/.local/lib/python3.11/site-packages&#39;, &#39;/opt/anaconda3/lib/python3.11/site-packages&#39;, &#39;/opt/anaconda3/lib/python3.11/site-packages/aeosa&#39;]
https://www.nohrsc.noaa.gov/nearest/index.html?city=40.05352381745094%2C-106.04027196859343&amp;county=&amp;l=5&amp;u=e&amp;y=2022&amp;m=5&amp;d=4
&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot; &gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
	&lt;meta http-equiv=&quot;Content-Type&quot; CONTENT=&quot;text/html; charset=utf-8&quot; &gt;
	&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/css/main.css&quot; &gt;
	&lt;link href=&quot;/favicon.ico&quot; rel=&quot;shortcut icon&quot; &gt;
	&lt;meta http-equiv=&quot;Cache-Control&quot; content=&quot;no-cache&quot; &gt;
	&lt;meta name=&quot;DC.creator&quot; content=&quot;National Operational Hydrologic Remote Sensing Center&quot; &gt;
	&lt;meta name=&quot;DC.publisher&quot; content=&quot;NOAA&#39;s National Weather Service&quot; &gt;
	&lt;meta name=&quot;DC.contributor&quot; content=&quot;National Operational Hydrologic Remote Sensing Center&quot; &gt;
	&lt;meta name=&quot;DC.language&quot; content=&quot;EN-US&quot; &gt;
&lt;title&gt;Nearest Observations - NOHRSC - The ultimate source for snow information&lt;/title&gt;
&lt;meta name=&quot;DC.title&quot; content=&quot;Nearest Observations - NOHRSC - The ultimate source for snow information&quot;&gt;
&lt;meta name=&quot;DC.description&quot; content=&quot;A listing of nearby observations to a given point and date&quot;&gt;
&lt;meta name=&quot;DC.date.created&quot; scheme=&quot;ISO8601&quot; content=&quot;2009-01-12&quot;&gt;
&lt;meta name=&quot;DC.date.reviewed&quot; scheme=&quot;ISO8601&quot; content=&quot;2022-11-14&quot;&gt;
	&lt;script type=&quot;text/javascript&quot;&gt;
	&lt;/script&gt;
	&lt;!-- Global site tag (gtag.js) - Google Analytics --&gt;
	&lt;script type=&quot;text/javascript&quot; async src=&quot;https://www.googletagmanager.com/gtag/js?id=UA-43953030-10&quot;&gt;&lt;/script&gt;
	&lt;script type=&quot;text/javascript&quot;&gt;
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag(&#39;js&#39;, new Date());
	  gtag(&#39;config&#39;, &#39;UA-43953030-10&#39;);
	&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;background-image : url(/images/topbanner.jpg)&quot;&gt;
		&lt;tr&gt;
			&lt;td align=&quot;right&quot; height=&quot;19&quot;&gt;
				&lt;a href=&quot;#content&quot;&gt;&lt;img src=&quot;/images/skipgraphic.gif&quot; alt=&quot;(content link)&quot; height=&quot;1&quot; width=&quot;1&quot; border=&quot;0&quot;&gt;&lt;/a&gt;
				&lt;a href=&quot;https://www.nws.noaa.gov&quot;&gt;&lt;span class=&quot;nwslink&quot;&gt;weather.gov&lt;/span&gt;&lt;/a&gt;
				&amp;nbsp;&amp;nbsp;&amp;nbsp;
			&lt;/td&gt;
		&lt;/tr&gt;
	&lt;/table&gt;
	&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot;&gt;
		&lt;tr&gt;
			&lt;td rowspan=&quot;2&quot; width=&quot;85&quot;&gt;&lt;a href=&quot;https://www.noaa.gov&quot;&gt;&lt;img src=&quot;/images/titleleft_noaa.jpg&quot; alt=&quot;NOAA link&quot; width=&quot;85&quot; height=&quot;78&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;
			&lt;td align=&quot;left&quot; width=&quot;500&quot; height=&quot;20&quot; style=&quot;background : url(/images/blank_title.jpg);&quot;&gt;&lt;div class=&quot;source&quot;&gt;National Weather Service&lt;/div&gt;&lt;/td&gt;
			&lt;td rowspan=&quot;2&quot; style=&quot;background-image : url(/images/title_bg.jpg)&quot;&gt;&amp;nbsp;&lt;/td&gt;
			&lt;td rowspan=&quot;2&quot; width=&quot;85&quot; align=&quot;right&quot;&gt;&lt;a href=&quot;https://www.nws.noaa.gov&quot;&gt;&lt;img src=&quot;/images/titleright_nws.jpg&quot; alt=&quot;NWS link&quot; width=&quot;85&quot; height=&quot;78&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/td&gt;
		&lt;/tr&gt;
		&lt;tr&gt;
			&lt;td width=&quot;500&quot; height=&quot;58&quot; style=&quot;background : url(/images/blank_name.jpg);&quot; class=&quot;location&quot;&gt;&lt;a href=&quot;/&quot;&gt;National Operational Hydrologic&lt;br&gt; Remote Sensing Center&lt;/a&gt;&lt;/td&gt;
		&lt;/tr&gt;
	&lt;/table&gt;
	&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; style=&quot;background-image : url(/images/navbar_bg.gif)&quot; width=&quot;100%&quot; class=&quot;nav&quot;&gt;
		&lt;tr&gt;
			&lt;td align=&quot;left&quot; valign=&quot;top&quot; width=&quot;94&quot;&gt;&lt;img src=&quot;/images/navbar_left.jpg&quot; alt=&quot;&quot; width=&quot;94&quot; height=&quot;23&quot; border=&quot;0&quot;&gt;&lt;/td&gt;
			&lt;td class=&quot;nav&quot; width=&quot;15%&quot; align=&quot;center&quot; nowrap&gt;&lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;&lt;/td&gt;
			&lt;td class=&quot;nav&quot; width=&quot;15%&quot; align=&quot;center&quot;&gt;&lt;a href=&quot;https://www.weather.gov/news&quot; title=&quot;National Weather Service News&quot;&gt;News&lt;/a&gt;&lt;/td&gt;
			&lt;td class=&quot;nav&quot; width=&quot;20%&quot; align=&quot;center&quot;&gt;&lt;a href=&quot;https://www.nws.noaa.gov/organization.html&quot; title=&quot;National Weather Service Organization&quot;&gt;Organization&lt;/a&gt;&lt;/td&gt;
			&lt;td align=&quot;left&quot; class=&quot;searchinput&quot; width=&quot;20%&quot; nowrap=&quot;nowrap&quot;&gt;
				&lt;form action=&quot;https://search.usa.gov/search&quot; method=&quot;get&quot; name=&quot;query&quot; id=&quot;query&quot;
				 style=&quot;margin-bottom:0; margin-top:0;&quot;&gt;
				&lt;label for=&quot;search&quot; class=&quot;yellow&quot;&gt;Search&lt;/label&gt;&amp;nbsp;&amp;nbsp;
				&lt;input type=&quot;hidden&quot; name=&quot;affiliate&quot; value=&quot;nws.noaa.gov&quot; &gt;
				&lt;input type=&quot;text&quot; name=&quot;query&quot; id=&quot;search&quot; value=&quot;Enter Search Here&quot;
				 size=&quot;20&quot; maxlength=&quot;256&quot; onfocus=&quot;this.value=&#39;&#39;;&quot; title=&quot;Search all NWS sites here&quot;&gt;&amp;nbsp;
				&lt;input type=&quot;submit&quot; id=&quot;submit&quot; value=&quot;Go&quot; &gt;
				&lt;/form&gt;
			&lt;/td&gt;
			&lt;td width=&quot;10%&quot;&gt;&amp;nbsp;&lt;/td&gt;
			&lt;td align=&quot;right&quot; valign=&quot;bottom&quot; width=&quot;24&quot;&gt;&lt;img src=&quot;/images/navbar_right.jpg&quot; alt=&quot;&quot; width=&quot;24&quot; height=&quot;23&quot; border=&quot;0&quot;&gt;&lt;/td&gt;
		&lt;/tr&gt;
	&lt;/table&gt;
	&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;
		&lt;tr valign=&quot;top&quot;&gt;
			&lt;td class=&quot;nav&quot; width=&quot;130&quot;&gt;
&lt;dl&gt;
&lt;dd&gt;&lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;dl&gt;
&lt;dt&gt;Snow Information&lt;/dt&gt;
&lt;dd&gt;&lt;a href=&quot;/nsa/&quot; title=&quot;An overview of snow around the country&quot;&gt;National Analyses&lt;/a&gt;&lt;/dd&gt;
&lt;dd&gt;&lt;a href=&quot;/interactive/html/map.html&quot; title=&quot;Explore NOHRSC products and create your own maps&quot;&gt;Interactive Maps&lt;/a&gt;&lt;/dd&gt;
&lt;dd&gt;&lt;a href=&quot;/earth/&quot; title=&quot;A listing of experimental products for use with KML interpreter software&quot;&gt;3D Visualization&lt;/a&gt;&lt;/dd&gt;
&lt;dd&gt;&lt;a href=&quot;/snowsurvey/&quot; title=&quot;Current information about our snow surveys&quot;&gt;Airborne Surveys&lt;/a&gt;&lt;/dd&gt;
&lt;dd&gt;&lt;a href=&quot;/snowfall/&quot; title=&quot;Daily maps of observed snowfall&quot;&gt;Snowfall Analysis&lt;/a&gt;&lt;/dd&gt;
&lt;dd&gt;&lt;a href=&quot;/nh_snowcover/&quot;&gt;Satellite Products&lt;/a&gt;&lt;/dd&gt;
&lt;dd&gt;&lt;a href=&quot;/forecasts/&quot;&gt;Forecasts&lt;/a&gt;&lt;/dd&gt;
&lt;dd&gt;&lt;a href=&quot;/archived_data/&quot; title=&quot;Information on where to acquire NOHRSC raster data&quot;&gt;Data Archive&lt;/a&gt;&lt;/dd&gt;
&lt;dd&gt;&lt;a href=&quot;/shef_archive/&quot; title=&quot;Browse an archive of SHEF text messages&quot;&gt;SHEF Products&lt;/a&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;form name=&quot;nearest&quot; action=&quot;/nearest/index.html&quot;&gt;
&lt;dl&gt;
&lt;dt&gt;Observations near&lt;/dt&gt;
&lt;dd&gt;&lt;input type=&quot;text&quot; size=&quot;9&quot; name=&quot;city&quot; value=&quot;City, ST&quot; title=&quot;Search for snow observations near a city. Press enter or select the go button to submit request&quot; onfocus=&quot;this.value=&#39;&#39;;&quot;&gt;
&lt;input type=&quot;submit&quot; value=&quot;Go&quot;&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;/form&gt;
&lt;dl&gt;
&lt;dt&gt;Science/Technology&lt;/dt&gt;
&lt;dd&gt;&lt;a href=&quot;/technology/&quot; title=&quot;More detailed information about the NOHRSC&quot;&gt;NOHRSC&lt;/a&gt;&lt;/dd&gt;
&lt;dd&gt;&lt;a href=&quot;/gisdatasets/&quot; title=&quot;Shapefiles available for download&quot;&gt;GIS Data Sets&lt;/a&gt;&lt;/dd&gt;
&lt;dd&gt;&lt;a href=&quot;/special/&quot; title=&quot;Satellite/GIS images for certain projects&quot;&gt;Special Purpose Imagery&lt;/a&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;dl&gt;
&lt;dt&gt;About The NOHRSC&lt;/dt&gt;
&lt;dd&gt;&lt;a href=&quot;/directory/&quot; title=&quot;Meet the staff at the NOHRSC&quot;&gt;Staff&lt;/a&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;dl&gt;
&lt;dt&gt;NOAA Links&lt;/dt&gt;
&lt;dd&gt;&lt;a href=&quot;https://www.ncdc.noaa.gov/snow-and-ice/&quot;&gt;Snow Climatology&lt;/a&gt;&lt;/dd&gt;
&lt;dd&gt;&lt;a href=&quot;/links.html&quot;&gt;Related Links&lt;/a&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;dl&gt;
&lt;dt&gt;Help&lt;/dt&gt;
&lt;dd&gt;&lt;a href=&quot;/help/&quot; title=&quot;NOHRSC web site help&quot;&gt;Help and FAQ&lt;/a&gt;&lt;/dd&gt;
&lt;dd&gt;&lt;a href=&quot;/sitemap.html&quot;&gt;Site Map&lt;/a&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;dl&gt;
&lt;dt&gt;Contact Us&lt;/dt&gt;
&lt;dd&gt;&lt;a href=&quot;/contact.html&quot;&gt;Please Send Us Comments!&lt;/a&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;center&gt;
&lt;a href=&quot;https://www.usa.gov&quot;&gt;&lt;img src=&quot;/images/usagov_logo_color_110w.gif&quot; alt=&quot;USA.gov is the U.S. Government&#39;s official Web portal to all Federal, state and local government Web resources and services.&quot; width=&quot;110&quot; height=&quot;30&quot; border=&quot;0&quot;&gt;&lt;/a&gt;
&lt;br&gt;
&lt;/center&gt;
			&lt;/td&gt;
			&lt;td id=&quot;content_block&quot;&gt;
				&lt;a href=&quot;&quot; name=&quot;content&quot;&gt;&lt;/a&gt;
&lt;center&gt;&lt;strong&gt;Nearest observations to&lt;/strong&gt;&lt;/center&gt;
&lt;center&gt;&lt;h2&gt;40.05&amp;deg;N, -106.04&amp;deg;W&lt;/h2&gt;&lt;/center&gt;
&lt;strong&gt;Note: these data are unofficial and provisional.&lt;/strong&gt;&lt;br&gt;
&lt;form name=&quot;data&quot; action=&quot;/nearest/index.html&quot;&gt;
&lt;fieldset&gt;
&lt;legend&gt;&lt;b&gt;Location and Date&lt;/b&gt;&lt;/legend&gt;
&lt;label title=&quot;Enter City, ST (or Latitude, Longitude)&quot;&gt;Enter your &quot;City, ST (or Latitude, Longitude)&quot; &lt;input type=&quot;text&quot; size=&quot;16&quot; maxlength=&quot;80&quot; name=&quot;city&quot; value=&quot;40.05&amp;deg;N, -106.04&amp;deg;W&quot;&gt;&lt;/label&gt;
&lt;input type=&quot;hidden&quot; name=&quot;county&quot; value=&quot;&quot;&gt;
&lt;input type=&quot;submit&quot; value=&quot;Go&quot; title=&quot;Click to refresh screen&quot;&gt;&lt;br&gt;&lt;br&gt;
&lt;input type=&quot;hidden&quot; name=&quot;l&quot; value=&quot;5&quot;&gt;
&lt;select name=&quot;u&quot; title=&quot;Units&quot; size=&quot;1&quot; class=&quot;smallform&quot;&gt;
&lt;option value=&quot;e&quot; class=&quot;smallform&quot; selected&gt;English&lt;/option&gt;
&lt;option value=&quot;m&quot; class=&quot;smallform&quot;&gt;Metric&lt;/option&gt;
&lt;/select&gt;
 &amp;nbsp;
&lt;select name=&quot;y&quot; title=&quot;Year&quot; size=&quot;1&quot; class=&quot;smallform&quot;&gt;
&lt;option value=&quot;2003&quot; class=&quot;smallform&quot;&gt;2003&lt;/option&gt;
&lt;option value=&quot;2004&quot; class=&quot;smallform&quot;&gt;2004&lt;/option&gt;
&lt;option value=&quot;2005&quot; class=&quot;smallform&quot;&gt;2005&lt;/option&gt;
&lt;option value=&quot;2006&quot; class=&quot;smallform&quot;&gt;2006&lt;/option&gt;
&lt;option value=&quot;2007&quot; class=&quot;smallform&quot;&gt;2007&lt;/option&gt;
&lt;option value=&quot;2008&quot; class=&quot;smallform&quot;&gt;2008&lt;/option&gt;
&lt;option value=&quot;2009&quot; class=&quot;smallform&quot;&gt;2009&lt;/option&gt;
&lt;option value=&quot;2010&quot; class=&quot;smallform&quot;&gt;2010&lt;/option&gt;
&lt;option value=&quot;2011&quot; class=&quot;smallform&quot;&gt;2011&lt;/option&gt;
&lt;option value=&quot;2012&quot; class=&quot;smallform&quot;&gt;2012&lt;/option&gt;
&lt;option value=&quot;2013&quot; class=&quot;smallform&quot;&gt;2013&lt;/option&gt;
&lt;option value=&quot;2014&quot; class=&quot;smallform&quot;&gt;2014&lt;/option&gt;
&lt;option value=&quot;2015&quot; class=&quot;smallform&quot;&gt;2015&lt;/option&gt;
&lt;option value=&quot;2016&quot; class=&quot;smallform&quot;&gt;2016&lt;/option&gt;
&lt;option value=&quot;2017&quot; class=&quot;smallform&quot;&gt;2017&lt;/option&gt;
&lt;option value=&quot;2018&quot; class=&quot;smallform&quot;&gt;2018&lt;/option&gt;
&lt;option value=&quot;2019&quot; class=&quot;smallform&quot;&gt;2019&lt;/option&gt;
&lt;option value=&quot;2020&quot; class=&quot;smallform&quot;&gt;2020&lt;/option&gt;
&lt;option value=&quot;2021&quot; class=&quot;smallform&quot;&gt;2021&lt;/option&gt;
&lt;option value=&quot;2022&quot; class=&quot;smallform&quot; selected&gt;2022&lt;/option&gt;
&lt;option value=&quot;2023&quot; class=&quot;smallform&quot;&gt;2023&lt;/option&gt;
&lt;option value=&quot;2024&quot; class=&quot;smallform&quot;&gt;2024&lt;/option&gt;
&lt;/select&gt;
 &amp;nbsp;
&lt;select name=&quot;m&quot; title=&quot;Month&quot; size=&quot;1&quot; class=&quot;smallform&quot;&gt;
&lt;option value=&quot;1&quot; class=&quot;smallform&quot;&gt;January&lt;/option&gt;
&lt;option value=&quot;2&quot; class=&quot;smallform&quot;&gt;February&lt;/option&gt;
&lt;option value=&quot;3&quot; class=&quot;smallform&quot;&gt;March&lt;/option&gt;
&lt;option value=&quot;4&quot; class=&quot;smallform&quot;&gt;April&lt;/option&gt;
&lt;option value=&quot;5&quot; class=&quot;smallform&quot; selected&gt;May&lt;/option&gt;
&lt;option value=&quot;6&quot; class=&quot;smallform&quot;&gt;June&lt;/option&gt;
&lt;option value=&quot;7&quot; class=&quot;smallform&quot;&gt;July&lt;/option&gt;
&lt;option value=&quot;8&quot; class=&quot;smallform&quot;&gt;August&lt;/option&gt;
&lt;option value=&quot;9&quot; class=&quot;smallform&quot;&gt;September&lt;/option&gt;
&lt;option value=&quot;10&quot; class=&quot;smallform&quot;&gt;October&lt;/option&gt;
&lt;option value=&quot;11&quot; class=&quot;smallform&quot;&gt;November&lt;/option&gt;
&lt;option value=&quot;12&quot; class=&quot;smallform&quot;&gt;December&lt;/option&gt;
&lt;/select&gt;
 &amp;nbsp;
&lt;select name=&quot;d&quot; title=&quot;Day&quot; size=&quot;1&quot; class=&quot;smallform&quot;&gt;
&lt;option value=&quot;1&quot; class=&quot;smallform&quot;&gt;1&lt;/option&gt;
&lt;option value=&quot;2&quot; class=&quot;smallform&quot;&gt;2&lt;/option&gt;
&lt;option value=&quot;3&quot; class=&quot;smallform&quot;&gt;3&lt;/option&gt;
&lt;option value=&quot;4&quot; class=&quot;smallform&quot; selected&gt;4&lt;/option&gt;
&lt;option value=&quot;5&quot; class=&quot;smallform&quot;&gt;5&lt;/option&gt;
&lt;option value=&quot;6&quot; class=&quot;smallform&quot;&gt;6&lt;/option&gt;
&lt;option value=&quot;7&quot; class=&quot;smallform&quot;&gt;7&lt;/option&gt;
&lt;option value=&quot;8&quot; class=&quot;smallform&quot;&gt;8&lt;/option&gt;
&lt;option value=&quot;9&quot; class=&quot;smallform&quot;&gt;9&lt;/option&gt;
&lt;option value=&quot;10&quot; class=&quot;smallform&quot;&gt;10&lt;/option&gt;
&lt;option value=&quot;11&quot; class=&quot;smallform&quot;&gt;11&lt;/option&gt;
&lt;option value=&quot;12&quot; class=&quot;smallform&quot;&gt;12&lt;/option&gt;
&lt;option value=&quot;13&quot; class=&quot;smallform&quot;&gt;13&lt;/option&gt;
&lt;option value=&quot;14&quot; class=&quot;smallform&quot;&gt;14&lt;/option&gt;
&lt;option value=&quot;15&quot; class=&quot;smallform&quot;&gt;15&lt;/option&gt;
&lt;option value=&quot;16&quot; class=&quot;smallform&quot;&gt;16&lt;/option&gt;
&lt;option value=&quot;17&quot; class=&quot;smallform&quot;&gt;17&lt;/option&gt;
&lt;option value=&quot;18&quot; class=&quot;smallform&quot;&gt;18&lt;/option&gt;
&lt;option value=&quot;19&quot; class=&quot;smallform&quot;&gt;19&lt;/option&gt;
&lt;option value=&quot;20&quot; class=&quot;smallform&quot;&gt;20&lt;/option&gt;
&lt;option value=&quot;21&quot; class=&quot;smallform&quot;&gt;21&lt;/option&gt;
&lt;option value=&quot;22&quot; class=&quot;smallform&quot;&gt;22&lt;/option&gt;
&lt;option value=&quot;23&quot; class=&quot;smallform&quot;&gt;23&lt;/option&gt;
&lt;option value=&quot;24&quot; class=&quot;smallform&quot;&gt;24&lt;/option&gt;
&lt;option value=&quot;25&quot; class=&quot;smallform&quot;&gt;25&lt;/option&gt;
&lt;option value=&quot;26&quot; class=&quot;smallform&quot;&gt;26&lt;/option&gt;
&lt;option value=&quot;27&quot; class=&quot;smallform&quot;&gt;27&lt;/option&gt;
&lt;option value=&quot;28&quot; class=&quot;smallform&quot;&gt;28&lt;/option&gt;
&lt;option value=&quot;29&quot; class=&quot;smallform&quot;&gt;29&lt;/option&gt;
&lt;option value=&quot;30&quot; class=&quot;smallform&quot;&gt;30&lt;/option&gt;
&lt;option value=&quot;31&quot; class=&quot;smallform&quot;&gt;31&lt;/option&gt;
&lt;/select&gt;
 &amp;nbsp;
&lt;input type=&quot;submit&quot; name=&quot;i&quot; value=&quot; - &quot; title=&quot;Back one day&quot;&gt; &amp;nbsp;
&lt;input type=&quot;submit&quot; name=&quot;i&quot; value=&quot; + &quot; title=&quot;Forward one day&quot;&gt; &amp;nbsp;
&lt;/fieldset&gt;
&lt;/form&gt;
&lt;table width=&quot;100%&quot;&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;Closest 5  observations near 40.05&amp;deg;N, -106.04&amp;deg;W&lt;/strong&gt;&lt;br&gt;40.05&amp;deg;N, -106.04&amp;deg;W (Elevation: N/A)&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;Latest between &lt;span class=&quot;date&quot;&gt;2022-05-04 06:00 UTC&lt;/span&gt;&lt;br&gt;and  &lt;span class=&quot;date&quot;&gt;2022-05-05 06:00 UTC&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;hr&gt;
&lt;table class=&quot;gray_data_table&quot; cellspacing=&quot;2&quot; summary=&quot;Table of Raw Snowfall Observations near 40.05&amp;deg;N, -106.04&amp;deg;W, &quot; width=&quot;100%&quot;&gt;
&lt;caption&gt;&lt;strong&gt;Raw Snowfall Observations&lt;/strong&gt;&lt;/caption&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;thead&gt;
  &lt;tr&gt;
&lt;th scope=&quot;col&quot;&gt;Station ID&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Name&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Elev.&lt;br&gt; (ft)&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Raw Snowfall&lt;br&gt; (in)&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Duration&lt;br&gt; (hours)&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Date (UTC)&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Distance&lt;/th&gt;&lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(40.0071&amp;deg;N, -105.8862&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=CO-GR-68&quot;&gt;CO-GR-68&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;TABERNASH 2.7 NW, CO&lt;/td&gt;&lt;td&gt;8806&lt;/td&gt;&lt;td&gt;3.70&lt;/td&gt;&lt;td&gt;24&lt;/td&gt;&lt;td&gt;2022-05-04 13&lt;/td&gt;&lt;td&gt;8.7 mi ESE&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(40.0375&amp;deg;N, -106.203&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=WIFC2&quot;&gt;WIFC2&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;WILLIAMS FORK DAM&lt;/td&gt;&lt;td&gt;7733&lt;/td&gt;&lt;td&gt;2.00&lt;/td&gt;&lt;td&gt;24&lt;/td&gt;&lt;td&gt;2022-05-04 14&lt;/td&gt;&lt;td&gt;8.7 mi W&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(40.0911&amp;deg;N, -106.2&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=CO-GR-52&quot;&gt;CO-GR-52&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;PARSHALL 3.0 NNW, CO&lt;/td&gt;&lt;td&gt;7904&lt;/td&gt;&lt;td&gt;2.20&lt;/td&gt;&lt;td&gt;24&lt;/td&gt;&lt;td&gt;2022-05-04 13&lt;/td&gt;&lt;td&gt;8.9 mi WNW&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(40.0015&amp;deg;N, -105.8725&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=CO-GR-53&quot;&gt;CO-GR-53&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;TABERNASH 1.9 NW, CO&lt;/td&gt;&lt;td&gt;8579&lt;/td&gt;&lt;td&gt;6.50&lt;/td&gt;&lt;td&gt;24&lt;/td&gt;&lt;td&gt;2022-05-04 13&lt;/td&gt;&lt;td&gt;9.5 mi ESE&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(40.1997&amp;deg;N, -105.9258&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=CO-GR-73&quot;&gt;CO-GR-73&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;GRANBY 7.7 N, CO&lt;/td&gt;&lt;td&gt;8563&lt;/td&gt;&lt;td&gt;4.00&lt;/td&gt;&lt;td&gt;24&lt;/td&gt;&lt;td&gt;2022-05-04 13&lt;/td&gt;&lt;td&gt;12 mi NE&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;hr&gt;
&lt;table class=&quot;gray_data_table&quot; cellspacing=&quot;2&quot; summary=&quot;Table of Snow Depth Observations near 40.05&amp;deg;N, -106.04&amp;deg;W, &quot; width=&quot;100%&quot;&gt;
&lt;caption&gt;&lt;strong&gt;Snow Depth Observations&lt;/strong&gt;&lt;/caption&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;thead&gt;
  &lt;tr&gt;
&lt;th scope=&quot;col&quot;&gt;Station ID&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Name&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Elev.&lt;br&gt; (ft)&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Snow Depth&lt;br&gt; (in)&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Date (UTC)&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Distance&lt;/th&gt;&lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(40.0071&amp;deg;N, -105.8862&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=CO-GR-68&quot;&gt;CO-GR-68&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;TABERNASH 2.7 NW, CO&lt;/td&gt;&lt;td&gt;8806&lt;/td&gt;&lt;td&gt;4.00&lt;/td&gt;&lt;td&gt;2022-05-04 13&lt;/td&gt;&lt;td&gt;8.7 mi ESE&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(40.0375&amp;deg;N, -106.203&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=WIFC2&quot;&gt;WIFC2&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;WILLIAMS FORK DAM&lt;/td&gt;&lt;td&gt;7733&lt;/td&gt;&lt;td&gt;1.00&lt;/td&gt;&lt;td&gt;2022-05-04 14&lt;/td&gt;&lt;td&gt;8.7 mi W&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(40.0911&amp;deg;N, -106.2&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=CO-GR-52&quot;&gt;CO-GR-52&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;PARSHALL 3.0 NNW, CO&lt;/td&gt;&lt;td&gt;7904&lt;/td&gt;&lt;td&gt;1.50&lt;/td&gt;&lt;td&gt;2022-05-04 13&lt;/td&gt;&lt;td&gt;8.9 mi WNW&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(40.2254&amp;deg;N, -105.9198&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=SCSC2&quot;&gt;SCSC2&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;STILLWATER CREEK&lt;/td&gt;&lt;td&gt;8793&lt;/td&gt;&lt;td&gt;0.00&lt;/td&gt;&lt;td&gt;2022-05-05 05&lt;/td&gt;&lt;td&gt;13.7 mi NE&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(40.2082&amp;deg;N, -105.8634&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=CO-GR-78&quot;&gt;CO-GR-78&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;GRAND LAKE 3.7 SW, CO&lt;/td&gt;&lt;td&gt;8537&lt;/td&gt;&lt;td&gt;3.00&lt;/td&gt;&lt;td&gt;2022-05-04 13&lt;/td&gt;&lt;td&gt;14.4 mi NE&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;hr&gt;
&lt;table class=&quot;gray_data_table&quot; cellspacing=&quot;2&quot; summary=&quot;Table of Snow Water Equivalent Observations near 40.05&amp;deg;N, -106.04&amp;deg;W, &quot; width=&quot;100%&quot;&gt;
&lt;caption&gt;&lt;strong&gt;Snow Water Equivalent Observations&lt;/strong&gt;&lt;/caption&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;thead&gt;
  &lt;tr&gt;
&lt;th scope=&quot;col&quot;&gt;Station ID&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Name&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Elev.&lt;br&gt; (ft)&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Snow Water Equivalent&lt;br&gt; (in)&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Date (UTC)&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Distance&lt;/th&gt;&lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(40.2254&amp;deg;N, -105.9198&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=SCSC2&quot;&gt;SCSC2&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;STILLWATER CREEK&lt;/td&gt;&lt;td&gt;8793&lt;/td&gt;&lt;td&gt;0.00&lt;/td&gt;&lt;td&gt;2022-05-05 05&lt;/td&gt;&lt;td&gt;13.7 mi NE&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(39.8687&amp;deg;N, -105.8675&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=FCVC2&quot;&gt;FCVC2&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;FOOL CREEK&lt;/td&gt;&lt;td&gt;11168&lt;/td&gt;&lt;td&gt;20.30&lt;/td&gt;&lt;td&gt;2022-05-04 07&lt;/td&gt;&lt;td&gt;15.5 mi SE&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(39.7956&amp;deg;N, -106.0273&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=MFKC2&quot;&gt;MFKC2&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;MIDDLE FORK CAMP&lt;/td&gt;&lt;td&gt;8983&lt;/td&gt;&lt;td&gt;1.40&lt;/td&gt;&lt;td&gt;2022-05-05 05&lt;/td&gt;&lt;td&gt;17.6 mi S&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(40.347&amp;deg;N, -106.0943&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=WLLC2&quot;&gt;WLLC2&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;WILLOW CREEK PASS&lt;/td&gt;&lt;td&gt;9600&lt;/td&gt;&lt;td&gt;14.70&lt;/td&gt;&lt;td&gt;2022-05-05 05&lt;/td&gt;&lt;td&gt;20.7 mi N&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(39.7645&amp;deg;N, -105.9062&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=JNPC2&quot;&gt;JNPC2&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;JONES PASS&lt;/td&gt;&lt;td&gt;10482&lt;/td&gt;&lt;td&gt;10.80&lt;/td&gt;&lt;td&gt;2022-05-05 05&lt;/td&gt;&lt;td&gt;20.9 mi SSE&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;hr&gt;
&lt;table class=&quot;gray_data_table&quot; cellspacing=&quot;2&quot; summary=&quot;Table of Raw Precipitation Observations near 40.05&amp;deg;N, -106.04&amp;deg;W, &quot; width=&quot;100%&quot;&gt;
&lt;caption&gt;&lt;strong&gt;Raw Precipitation Observations&lt;/strong&gt;&lt;/caption&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;colgroup&gt;
 &lt;thead&gt;
  &lt;tr&gt;
&lt;th scope=&quot;col&quot;&gt;Station ID&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Name&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Elev.&lt;br&gt; (ft)&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Raw Precipitation&lt;br&gt; (in)&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Duration&lt;br&gt; (hours)&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Date (UTC)&lt;/th&gt;&lt;th scope=&quot;col&quot;&gt;Distance&lt;/th&gt;&lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(40.1083&amp;deg;N, -106.0036&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=CAWC2&quot;&gt;CAWC2&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;COLORADO RVR BLW WINDY GAP&lt;/td&gt;&lt;td&gt;7822&lt;/td&gt;&lt;td&gt;0.23&lt;/td&gt;&lt;td&gt;24&lt;/td&gt;&lt;td&gt;2022-05-05 06&lt;/td&gt;&lt;td&gt;4.5 mi NNE&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(40.1186&amp;deg;N, -105.8997&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=CO-GR-81&quot;&gt;CO-GR-81&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;GRANBY 2.9 NE, CO&lt;/td&gt;&lt;td&gt;8041&lt;/td&gt;&lt;td&gt;0.65&lt;/td&gt;&lt;td&gt;24&lt;/td&gt;&lt;td&gt;2022-05-05 01&lt;/td&gt;&lt;td&gt;8.8 mi ENE&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(40.136&amp;deg;N, -106.1744&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=GRUC2&quot;&gt;GRUC2&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;GROUSE MOUNTAIN&lt;/td&gt;&lt;td&gt;10013&lt;/td&gt;&lt;td&gt;0.00&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;2022-05-05 05&lt;/td&gt;&lt;td&gt;9.3 mi WNW&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(39.8906&amp;deg;N, -106.0367&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=KSEC2&quot;&gt;KSEC2&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;KEYSER RIDGE&lt;/td&gt;&lt;td&gt;10190&lt;/td&gt;&lt;td&gt;0.00&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;2022-05-05 05&lt;/td&gt;&lt;td&gt;11 mi S&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class=&quot;desc&quot; title=&quot;(39.8906&amp;deg;N, -106.0367&amp;deg;W)&quot;&gt;&lt;a href=&quot;/interactive/html/graph.html?units=0&amp;amp;ey=2022&amp;amp;em=5&amp;amp;ed=7&amp;amp;eh=6&amp;amp;station=KSEC2&quot;&gt;KSEC2&lt;/a&gt;&lt;/td&gt;&lt;td class=&quot;desc&quot;&gt;KEYSER RIDGE&lt;/td&gt;&lt;td&gt;10190&lt;/td&gt;&lt;td&gt;0.29&lt;/td&gt;&lt;td&gt;24&lt;/td&gt;&lt;td&gt;2022-05-05 05&lt;/td&gt;&lt;td&gt;11 mi S&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;br&gt;
&lt;span style=&quot;color: white&quot;&gt;Page generated in 3.79133 seconds.&lt;/span&gt;&lt;br&gt;
				&lt;br&gt;&lt;br&gt;
				&lt;table align=&quot;center&quot; cellspacing=&quot;2&quot; cellpadding=&quot;2&quot; border=&quot;0&quot;&gt;
					&lt;tr align=&quot;center&quot;&gt;
						&lt;td&gt;
							NOHRSC&lt;br&gt;
							&lt;a href=&quot;/mission.html&quot;&gt;Mission Statement&lt;/a&gt;
							&amp;nbsp;|&amp;nbsp;
							&lt;a href=&quot;/contact.html&quot;&gt;Contact&lt;/a&gt;
						&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
				&lt;table width=&quot;100%&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot;&gt;
					&lt;tr&gt;
						&lt;td colspan=&quot;3&quot;&gt;&lt;hr&gt;&lt;/td&gt;
					&lt;/tr&gt;
					&lt;tr valign=&quot;top&quot;&gt; 
						&lt;td align=&quot;left&quot; class=&quot;gray&quot;&gt;
							&lt;br&gt;
							&lt;a href=&quot;https://www.weather.gov&quot;&gt;&lt;span class=&quot;gray&quot;&gt;National Weather Service&lt;/span&gt;&lt;/a&gt;&lt;br&gt;
							National Operational Hydrologic Remote Sensing Center&lt;br&gt;
                                                        &lt;a href=&quot;https://water.noaa.gov&quot;&gt;&lt;span class=&quot;gray&quot;&gt;Office of Water Prediction&lt;/span&gt;&lt;/a&gt;&lt;br&gt;
							1735 Lake Drive W.&lt;br&gt;
							Chanhassen, MN 55317&lt;br&gt;
							&lt;br&gt;
						&lt;/td&gt;
						&lt;td align=&quot;right&quot;&gt;
							&lt;a href=&quot;/&quot;&gt;&lt;img src=&quot;/images/nohrsc.png&quot; alt=&quot;NOHRSC homepage&quot; border=0&gt;&lt;/a&gt;
						&lt;/td&gt;
					&lt;/tr&gt;
					&lt;tr valign=&quot;top&quot;&gt;
						&lt;td align=&quot;left&quot; class=&quot;gray&quot;&gt;
							&lt;a href=&quot;/contact.html&quot;&gt;&lt;span class=&quot;gray&quot;&gt;Contact NOHRSC&lt;/span&gt;&lt;/a&gt;&lt;br&gt;
							&lt;a href=&quot;https://www.weather.gov/glossary/&quot;&gt;&lt;span class=&quot;gray&quot;&gt;Glossary&lt;/span&gt;&lt;/a&gt;&lt;br&gt;
							&lt;a href=&quot;https://www.weather.gov/credits.php&quot;&gt;&lt;span class=&quot;gray&quot;&gt;Credits&lt;/span&gt;&lt;/a&gt;&lt;br&gt;
							&lt;a href=&quot;https://www.cio.noaa.gov/Policy_Programs/info_quality.html&quot;&gt;&lt;span class=&quot;gray&quot;&gt;Information Quality&lt;/span&gt;&lt;/a&gt;&lt;br&gt;
Page last modified: Nov 14, 2022 - cloud&lt;br&gt;
						&lt;/td&gt;
						&lt;td align=&quot;right&quot; class=&quot;gray&quot;&gt;
							&lt;a href=&quot;https://www.weather.gov/admin.php&quot;&gt;&lt;span class=&quot;gray&quot;&gt;About Us&lt;/span&gt;&lt;/a&gt;&lt;br&gt;
							&lt;a href=&quot;https://www.weather.gov/disclaimer.php&quot;&gt;&lt;span class=&quot;gray&quot;&gt;Disclaimer&lt;/span&gt;&lt;/a&gt;&lt;br&gt;
							&lt;a href=&quot;https://www.weather.gov/privacy.php&quot;&gt;&lt;span class=&quot;gray&quot;&gt;Privacy Policy&lt;/span&gt;&lt;/a&gt;&lt;br&gt;
							&lt;a href=&quot;https://www.rdc.noaa.gov/~foia/&quot;&gt;&lt;span class=&quot;gray&quot;&gt;FOIA&lt;/span&gt;&lt;/a&gt;&lt;br&gt;
							&lt;a href=&quot;https://www.weather.gov/careers.php&quot;&gt;&lt;span class=&quot;gray&quot;&gt;Career Opportunities&lt;/span&gt;&lt;/a&gt;&lt;br&gt;
						&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/table&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
	&lt;/table&gt;
&lt;/body&gt;
&lt;/html&gt;

Container div not found
None
</pre></div>
</div>
</div>
</div>
<p>We automate the process of accessing and parsing NOAA’s snow data using BeautifulSoup. By constructing a query URL based on user-defined location and date parameters, we automate the process of fetching web content and parsing HTML to extract pertinent information. The above script enhances efficiency in obtaining snow data, offering a user-friendly approach for various analyses or applications without the need for technical expertise.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dem-dataset">
<h1>DEM Dataset<a class="headerlink" href="#dem-dataset" title="Link to this heading">#</a></h1>
<section id="introduction-to-dem-digital-elevation-model">
<h2>Introduction to DEM (Digital Elevation Model):<a class="headerlink" href="#introduction-to-dem-digital-elevation-model" title="Link to this heading">#</a></h2>
<p>A Digital Elevation Model (DEM) is a digital representation of the topography of a surface, such as the Earth’s terrain or the surface of another celestial body. It consists of a grid of elevation values, where each cell in the grid represents the elevation at a specific location. DEMs are widely used in various fields, including geography, geology, hydrology, environmental modeling, urban planning, and 3D visualization.</p>
</section>
<section id="id13">
<h2>Characteristics<a class="headerlink" href="#id13" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>Spatial Resolution</strong>: DEMs can vary in spatial resolution, ranging from coarse resolution global datasets to high-resolution local datasets. Higher spatial resolution DEMs provide more detailed information about the terrain.</p></li>
<li><p><strong>Accuracy</strong>: The accuracy of DEMs depends on the source data and the methods used for their generation. High-quality DEMs are crucial for accurate analysis and decision-making in applications such as flood modeling, terrain navigation, and infrastructure planning.</p></li>
<li><p><strong>Coverage</strong>: DEMs can cover different geographic extents, from local areas to entire continents or even the entire globe. The coverage of a DEM determines its utility for specific applications.</p></li>
<li><p><strong>Data Format</strong>: DEM data is typically stored in raster formats such as GeoTIFF, ASCII grid, or Esri GRID. DEM data is typically stored in raster formats such as GeoTIFF, ASCII grid, or Esri GRID.</p></li>
</ul>
<p>DEM data is typically stored in raster formats such as GeoTIFF, ASCII grid, or Esri GRID. DEM data is typically stored in raster formats such as GeoTIFF, ASCII grid, or Esri GRID. Additional information such as coordinate system, spatial resolution, and metadata may also be included in the data file.</p>
<br>
<div style="display: flex; justify-content: center;">
  <div style="margin-right: 20px; text-align: center;">
    <img src="../img/DEM/elevation_map.png" alt="Elevation Map" width="400">
  </div>
  <div style="margin-right: 20px; text-align: center;">
    <img src="../img/DEM/aspect_map.png" alt="Aspect Map" width="400">
  </div>
</div>
<br>
<div style="display: flex; justify-content: center;">
  <div style="margin-right: 20px; text-align: center;">
    <img src="../img/DEM/northness_map.png" alt="Nothness Map" width="400">
  </div>
  <div style="text-align: center;">
    <img src="../img/DEM/eastness_map.png" alt="Eastness Map" width="400">
  </div>
</div>
</section>
<section id="id14">
<h2>Data Sources and Acquisition:<a class="headerlink" href="#id14" title="Link to this heading">#</a></h2>
<section id="satellite-imagery">
<h3>Satellite Imagery:<a class="headerlink" href="#satellite-imagery" title="Link to this heading">#</a></h3>
<p>DEMs can be derived from satellite imagery using techniques such as stereo photogrammetry or interferometry.</p>
</section>
<section id="aerial-lidar-light-detection-and-ranging">
<h3>Aerial LiDAR (Light Detection and Ranging):<a class="headerlink" href="#aerial-lidar-light-detection-and-ranging" title="Link to this heading">#</a></h3>
<p>LiDAR data collected from aircraft can produce high-resolution DEMs with accurate elevation information.</p>
</section>
<section id="topographic-surveys">
<h3>Topographic Surveys:<a class="headerlink" href="#topographic-surveys" title="Link to this heading">#</a></h3>
<p>Ground-based surveys using total stations or GPS equipment can also be used to generate DEMs for smaller areas with high precision.</p>
</section>
</section>
<section id="id15">
<h2>Applications:<a class="headerlink" href="#id15" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Terrain Analysis for Infrastructure Development</p></li>
<li><p>Environmental Impact Assessment</p></li>
<li><p>Geological Mapping and Exploration</p></li>
<li><p>Disaster Risk Reduction</p></li>
<li><p>Climate Change Modeling</p></li>
<li><p>Ecological and Habitat Modeling</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dem-data-download">
<h1>DEM Data Download:<a class="headerlink" href="#dem-data-download" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load dependencies</span>
<span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">geojson</span>
<span class="kn">from</span> <span class="nn">pystac_client</span> <span class="kn">import</span> <span class="n">Client</span>
<span class="kn">import</span> <span class="nn">planetary_computer</span>
<span class="kn">import</span> <span class="nn">xarray</span>
<span class="kn">import</span> <span class="nn">rioxarray</span>
<span class="kn">import</span> <span class="nn">xrspatial</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">pyproj</span> <span class="kn">import</span> <span class="n">Proj</span><span class="p">,</span> <span class="n">transform</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">traceback</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">home_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">)</span>
<span class="n">work_dir</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">home_dir</span><span class="si">}</span><span class="s2">/gridmet_test_run&quot;</span>
<span class="n">snowcast_github_dir</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">home_dir</span><span class="si">}</span><span class="s2">/Documents/GitHub/SnowCast/&quot;</span>

<span class="c1">#exit() # this process no longer need to execute, we need to make Geoweaver to specify which process doesn&#39;t need to run</span>

<span class="c1"># user-defined paths for data-access</span>
<span class="n">data_dir</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">snowcast_github_dir</span><span class="si">}</span><span class="s1">data/&#39;</span>
<span class="n">gridcells_file</span> <span class="o">=</span> <span class="n">data_dir</span><span class="o">+</span><span class="s1">&#39;snowcast_provided/grid_cells_eval.geojson&#39;</span>
<span class="n">stations_file</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">work_dir</span><span class="si">}</span><span class="s2">/all_snotel_cdec_stations_active_in_westus.csv&quot;</span>
<span class="n">gridcells_outfile</span> <span class="o">=</span> <span class="n">data_dir</span><span class="o">+</span><span class="s1">&#39;terrain/gridcells_terrainData_eval.csv&#39;</span>
<span class="n">stations_outfile</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">work_dir</span><span class="si">}</span><span class="s2">/training_all_active_snotel_station_list_elevation.csv_terrain_4km_grid_shift.csv&quot;</span>


<span class="k">def</span> <span class="nf">get_planetary_client</span><span class="p">():</span>
  <span class="c1">#requests.get(&#39;https://planetarycomputer.microsoft.com/api/stac/v1&#39;)</span>

  <span class="c1"># setup client for handshaking and data-access</span>
  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;setup planetary computer client&quot;</span><span class="p">)</span>
  <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;https://planetarycomputer.microsoft.com/api/stac/v1&quot;</span><span class="p">,</span><span class="n">ignore_conformance</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  
  <span class="k">return</span> <span class="n">client</span>

<span class="k">def</span> <span class="nf">prepareGridCellTerrain</span><span class="p">():</span>
  <span class="n">client</span> <span class="o">=</span> <span class="n">get_planetary_client</span><span class="p">()</span>
  <span class="c1"># Load metadata</span>
  <span class="n">gridcellsGPD</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">gridcells_file</span><span class="p">)</span>
  <span class="n">gridcells</span> <span class="o">=</span> <span class="n">geojson</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">gridcells_file</span><span class="p">))</span>
  <span class="n">stations</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">stations_file</span><span class="p">)</span>

  <span class="c1"># instantiate output panda dataframes</span>
  <span class="n">df_gridcells</span> <span class="o">=</span> <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">(</span>
    <span class="s2">&quot;Longitude [deg]&quot;</span><span class="p">,</span><span class="s2">&quot;Latitude [deg]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Elevation [m]&quot;</span><span class="p">,</span><span class="s2">&quot;Aspect [deg]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Curvature [ratio]&quot;</span><span class="p">,</span><span class="s2">&quot;Slope [deg]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Eastness [unitCirc.]&quot;</span><span class="p">,</span><span class="s2">&quot;Northness [unitCirc.]&quot;</span><span class="p">))</span>
  <span class="c1"># instantiate output panda dataframes</span>
  <span class="c1"># Calculate gridcell characteristics using Copernicus DEM data</span>
  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Prepare GridCell Terrain data&quot;</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">idx</span><span class="p">,</span><span class="n">cell</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">gridcells</span><span class="p">[</span><span class="s1">&#39;features&#39;</span><span class="p">]):</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Processing grid &quot;</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
      <span class="n">search</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
          <span class="n">collections</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;cop-dem-glo-30&quot;</span><span class="p">],</span>
          <span class="n">intersects</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;Polygon&quot;</span><span class="p">,</span> <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span><span class="n">cell</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">][</span><span class="s1">&#39;coordinates&#39;</span><span class="p">]},</span>
      <span class="p">)</span>
      <span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">search</span><span class="o">.</span><span class="n">get_items</span><span class="p">())</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;==&gt; Searched items: &quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">))</span>

      <span class="n">cropped_data</span> <span class="o">=</span> <span class="kc">None</span>
      <span class="k">try</span><span class="p">:</span>
          <span class="n">signed_asset</span> <span class="o">=</span> <span class="n">planetary_computer</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">assets</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
          <span class="n">data</span> <span class="o">=</span> <span class="p">(</span>
              <span class="c1">#xarray.open_rasterio(signed_asset.href)</span>
              <span class="n">xarray</span><span class="o">.</span><span class="n">open_rasterio</span><span class="p">(</span><span class="n">signed_asset</span><span class="o">.</span><span class="n">href</span><span class="p">)</span>
              <span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
              <span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;band&quot;</span><span class="p">)</span>
              <span class="o">.</span><span class="n">coarsen</span><span class="p">({</span><span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
              <span class="o">.</span><span class="n">mean</span><span class="p">()</span>
          <span class="p">)</span>
          <span class="n">cropped_data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rio</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">gridcellsGPD</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">][</span><span class="n">idx</span><span class="p">:</span><span class="n">idx</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
      <span class="k">except</span><span class="p">:</span>
          <span class="n">signed_asset</span> <span class="o">=</span> <span class="n">planetary_computer</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">assets</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
          <span class="n">data</span> <span class="o">=</span> <span class="p">(</span>
              <span class="n">xarray</span><span class="o">.</span><span class="n">open_rasterio</span><span class="p">(</span><span class="n">signed_asset</span><span class="o">.</span><span class="n">href</span><span class="p">)</span>
              <span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
              <span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;band&quot;</span><span class="p">)</span>
              <span class="o">.</span><span class="n">coarsen</span><span class="p">({</span><span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
              <span class="o">.</span><span class="n">mean</span><span class="p">()</span>
          <span class="p">)</span>
          <span class="n">cropped_data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rio</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">gridcellsGPD</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">][</span><span class="n">idx</span><span class="p">:</span><span class="n">idx</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>

      <span class="c1"># calculate lat/long of center of gridcell</span>
      <span class="n">longitude</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ravel</span><span class="p">(</span><span class="n">cell</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">][</span><span class="s1">&#39;coordinates&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">::</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
      <span class="n">latitude</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ravel</span><span class="p">(</span><span class="n">cell</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">][</span><span class="s1">&#39;coordinates&#39;</span><span class="p">])[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;reproject data to EPSG:32612&quot;</span><span class="p">)</span>
      <span class="c1"># reproject the cropped dem data</span>
      <span class="n">cropped_data</span> <span class="o">=</span> <span class="n">cropped_data</span><span class="o">.</span><span class="n">rio</span><span class="o">.</span><span class="n">reproject</span><span class="p">(</span><span class="s2">&quot;EPSG:32612&quot;</span><span class="p">)</span>

      <span class="c1"># Mean elevation of gridcell</span>
      <span class="n">mean_elev</span> <span class="o">=</span> <span class="n">cropped_data</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">values</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Elevation: &quot;</span><span class="p">,</span> <span class="n">mean_elev</span><span class="p">)</span>

      <span class="c1"># Calculate directional components</span>
      <span class="n">aspect</span> <span class="o">=</span> <span class="n">xrspatial</span><span class="o">.</span><span class="n">aspect</span><span class="p">(</span><span class="n">cropped_data</span><span class="p">)</span>
      <span class="n">aspect_xcomp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nansum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">aspect</span><span class="o">.</span><span class="n">values</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span><span class="p">)))</span>
      <span class="n">aspect_ycomp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nansum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">aspect</span><span class="o">.</span><span class="n">values</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span><span class="p">)))</span>
      <span class="n">mean_aspect</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">aspect_ycomp</span><span class="p">,</span><span class="n">aspect_xcomp</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mi">180</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">mean_aspect</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
          <span class="n">mean_aspect</span> <span class="o">=</span> <span class="mi">360</span> <span class="o">+</span> <span class="n">mean_aspect</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Aspect: &quot;</span><span class="p">,</span> <span class="n">mean_aspect</span><span class="p">)</span>
      <span class="n">mean_eastness</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">mean_aspect</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span><span class="p">))</span>
      <span class="n">mean_northness</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">mean_aspect</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span><span class="p">))</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Eastness: &quot;</span><span class="p">,</span> <span class="n">mean_eastness</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Northness: &quot;</span><span class="p">,</span> <span class="n">mean_northness</span><span class="p">)</span>

      <span class="c1"># Positive curvature = upward convex</span>
      <span class="n">curvature</span> <span class="o">=</span> <span class="n">xrspatial</span><span class="o">.</span><span class="n">curvature</span><span class="p">(</span><span class="n">cropped_data</span><span class="p">)</span>
      <span class="n">mean_curvature</span> <span class="o">=</span> <span class="n">curvature</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">values</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Curvature: &quot;</span><span class="p">,</span> <span class="n">mean_curvature</span><span class="p">)</span>

      <span class="c1"># Calculate mean slope</span>
      <span class="n">slope</span> <span class="o">=</span> <span class="n">xrspatial</span><span class="o">.</span><span class="n">slope</span><span class="p">(</span><span class="n">cropped_data</span><span class="p">)</span>
      <span class="n">mean_slope</span> <span class="o">=</span> <span class="n">slope</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">values</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Slope: &quot;</span><span class="p">,</span> <span class="n">mean_slope</span><span class="p">)</span>

      <span class="c1"># Fill pandas dataframe</span>
      <span class="n">df_gridcells</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">longitude</span><span class="p">,</span><span class="n">latitude</span><span class="p">,</span>
                               <span class="n">mean_elev</span><span class="p">,</span><span class="n">mean_aspect</span><span class="p">,</span>
                               <span class="n">mean_curvature</span><span class="p">,</span><span class="n">mean_slope</span><span class="p">,</span>
                               <span class="n">mean_eastness</span><span class="p">,</span><span class="n">mean_northness</span><span class="p">]</span>

  <span class="c1"># Save output data into csv format</span>
  <span class="n">df_gridcells</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">gridcellsGPD</span><span class="p">[</span><span class="s1">&#39;cell_id&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="n">idx</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">df_gridcells</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">gridcells_outfile</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">prepareStationTerrain</span><span class="p">():</span>
  <span class="n">client</span> <span class="o">=</span> <span class="n">get_planetary_client</span><span class="p">()</span>
  
  <span class="n">df_station</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Longitude [deg]&quot;</span><span class="p">,</span><span class="s2">&quot;Latitude [deg]&quot;</span><span class="p">,</span>
                                     <span class="s2">&quot;Elevation [m]&quot;</span><span class="p">,</span><span class="s2">&quot;Elevation_30 [m]&quot;</span><span class="p">,</span><span class="s2">&quot;Elevation_1000 [m]&quot;</span><span class="p">,</span>
                                     <span class="s2">&quot;Aspect_30 [deg]&quot;</span><span class="p">,</span><span class="s2">&quot;Aspect_1000 [deg]&quot;</span><span class="p">,</span>
                                     <span class="s2">&quot;Curvature_30 [ratio]&quot;</span><span class="p">,</span><span class="s2">&quot;Curvature_1000 [ratio]&quot;</span><span class="p">,</span>
                                     <span class="s2">&quot;Slope_30 [deg]&quot;</span><span class="p">,</span><span class="s2">&quot;Slope_1000 [deg]&quot;</span><span class="p">,</span>
                                     <span class="s2">&quot;Eastness_30 [unitCirc.]&quot;</span><span class="p">,</span><span class="s2">&quot;Northness_30 [unitCirc.]&quot;</span><span class="p">,</span>
                                     <span class="s2">&quot;Eastness_1000 [unitCirc.]&quot;</span><span class="p">,</span><span class="s2">&quot;Northness_1000 [unitCirc.]&quot;</span><span class="p">))</span>
  
  <span class="n">stations_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">stations_file</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">stations_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
  <span class="c1"># Calculate terrain characteristics of stations, and surrounding regions using COP 30</span>
  <span class="k">for</span> <span class="n">idx</span><span class="p">,</span><span class="n">station</span> <span class="ow">in</span> <span class="n">stations_df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
      <span class="n">search</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
          <span class="n">collections</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;cop-dem-glo-30&quot;</span><span class="p">],</span>
          <span class="n">intersects</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Point&quot;</span><span class="p">,</span> 
            <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span>
              <span class="n">stations_df</span><span class="p">[</span><span class="s1">&#39;lon&#39;</span><span class="p">],</span>
              <span class="n">stations_df</span><span class="p">[</span><span class="s1">&#39;lat&#39;</span><span class="p">]</span>
            <span class="p">]</span>
          <span class="p">},</span>
      <span class="p">)</span>
      <span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">search</span><span class="o">.</span><span class="n">get_items</span><span class="p">())</span>
      <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Returned </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span><span class="si">}</span><span class="s2"> items&quot;</span><span class="p">)</span>

      <span class="k">try</span><span class="p">:</span>
          <span class="n">signed_asset</span> <span class="o">=</span> <span class="n">planetary_computer</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">assets</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
          <span class="n">data</span> <span class="o">=</span> <span class="p">(</span>
              <span class="n">xarray</span><span class="o">.</span><span class="n">open_rasterio</span><span class="p">(</span><span class="n">signed_asset</span><span class="o">.</span><span class="n">href</span><span class="p">)</span>
              <span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
              <span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;band&quot;</span><span class="p">)</span>
              <span class="o">.</span><span class="n">coarsen</span><span class="p">({</span><span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
              <span class="o">.</span><span class="n">mean</span><span class="p">()</span>
          <span class="p">)</span>
          <span class="n">xdiff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">x</span><span class="o">-</span><span class="n">stations_df</span><span class="p">[</span><span class="s1">&#39;lon&#39;</span><span class="p">])</span>
          <span class="n">ydiff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">y</span><span class="o">-</span><span class="n">stations_df</span><span class="p">[</span><span class="s1">&#39;lat&#39;</span><span class="p">])</span>
          <span class="n">xdiff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">xdiff</span> <span class="o">==</span> <span class="n">xdiff</span><span class="o">.</span><span class="n">min</span><span class="p">())[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
          <span class="n">ydiff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ydiff</span> <span class="o">==</span> <span class="n">ydiff</span><span class="o">.</span><span class="n">min</span><span class="p">())[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
          <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">ydiff</span><span class="o">-</span><span class="mi">33</span><span class="p">:</span><span class="n">ydiff</span><span class="o">+</span><span class="mi">33</span><span class="p">,</span><span class="n">xdiff</span><span class="o">-</span><span class="mi">33</span><span class="p">:</span><span class="n">xdiff</span><span class="o">+</span><span class="mi">33</span><span class="p">]</span><span class="o">.</span><span class="n">rio</span><span class="o">.</span><span class="n">reproject</span><span class="p">(</span><span class="s2">&quot;EPSG:32612&quot;</span><span class="p">)</span>
      <span class="k">except</span><span class="p">:</span>
          <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
          <span class="n">signed_asset</span> <span class="o">=</span> <span class="n">planetary_computer</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">assets</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])</span>
          <span class="n">data</span> <span class="o">=</span> <span class="p">(</span>
              <span class="n">xarray</span><span class="o">.</span><span class="n">open_rasterio</span><span class="p">(</span><span class="n">signed_asset</span><span class="o">.</span><span class="n">href</span><span class="p">)</span>
              <span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
              <span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;band&quot;</span><span class="p">)</span>
              <span class="o">.</span><span class="n">coarsen</span><span class="p">({</span><span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
              <span class="o">.</span><span class="n">mean</span><span class="p">()</span>
          <span class="p">)</span>
          <span class="n">xdiff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">x</span><span class="o">-</span><span class="n">stations_df</span><span class="p">[</span><span class="s1">&#39;lon&#39;</span><span class="p">])</span>
          <span class="n">ydiff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">y</span><span class="o">-</span><span class="n">stations_df</span><span class="p">[</span><span class="s1">&#39;lat&#39;</span><span class="p">])</span>
          <span class="n">xdiff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">xdiff</span> <span class="o">==</span> <span class="n">xdiff</span><span class="o">.</span><span class="n">min</span><span class="p">())[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
          <span class="n">ydiff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ydiff</span> <span class="o">==</span> <span class="n">ydiff</span><span class="o">.</span><span class="n">min</span><span class="p">())[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
          <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">ydiff</span><span class="o">-</span><span class="mi">33</span><span class="p">:</span><span class="n">ydiff</span><span class="o">+</span><span class="mi">33</span><span class="p">,</span><span class="n">xdiff</span><span class="o">-</span><span class="mi">33</span><span class="p">:</span><span class="n">xdiff</span><span class="o">+</span><span class="mi">33</span><span class="p">]</span><span class="o">.</span><span class="n">rio</span><span class="o">.</span><span class="n">reproject</span><span class="p">(</span><span class="s2">&quot;EPSG:32612&quot;</span><span class="p">)</span>

      <span class="c1"># Reproject the station data to better include only 1000m surrounding area</span>
      <span class="n">inProj</span> <span class="o">=</span> <span class="n">Proj</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="s1">&#39;epsg:4326&#39;</span><span class="p">)</span>
      <span class="n">outProj</span> <span class="o">=</span> <span class="n">Proj</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="s1">&#39;epsg:32612&#39;</span><span class="p">)</span>
      <span class="n">new_x</span><span class="p">,</span><span class="n">new_y</span> <span class="o">=</span> <span class="n">transform</span><span class="p">(</span><span class="n">inProj</span><span class="p">,</span><span class="n">outProj</span><span class="p">,</span>
                              <span class="n">stations_df</span><span class="p">[</span><span class="s1">&#39;lon&#39;</span><span class="p">],</span>
                              <span class="n">stations_df</span><span class="p">[</span><span class="s1">&#39;lat&#39;</span><span class="p">])</span>

      <span class="c1"># Calculate elevation of station and surroundings</span>
      <span class="n">mean_elevation</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">values</span>
      <span class="n">elevation</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">new_x</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">new_y</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">elevation</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

      <span class="c1"># Calcuate directional components</span>
      <span class="n">aspect</span> <span class="o">=</span> <span class="n">xrspatial</span><span class="o">.</span><span class="n">aspect</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
      <span class="n">aspect_xcomp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nansum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">aspect</span><span class="o">.</span><span class="n">values</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span><span class="p">)))</span>
      <span class="n">aspect_ycomp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nansum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">aspect</span><span class="o">.</span><span class="n">values</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span><span class="p">)))</span>
      <span class="n">mean_aspect</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">aspect_ycomp</span><span class="p">,</span><span class="n">aspect_xcomp</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mi">180</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">mean_aspect</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
          <span class="n">mean_aspect</span> <span class="o">=</span> <span class="mi">360</span> <span class="o">+</span> <span class="n">mean_aspect</span>
      <span class="n">aspect</span> <span class="o">=</span> <span class="n">aspect</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">new_x</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">new_y</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
      <span class="n">eastness</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">aspect</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span><span class="p">))</span>
      <span class="n">northness</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">aspect</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span><span class="p">))</span>
      <span class="n">mean_eastness</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">mean_aspect</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span><span class="p">))</span>
      <span class="n">mean_northness</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">mean_aspect</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">180</span><span class="p">))</span>

      <span class="c1"># Positive curvature = upward convex</span>
      <span class="n">curvature</span> <span class="o">=</span> <span class="n">xrspatial</span><span class="o">.</span><span class="n">curvature</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
      <span class="n">mean_curvature</span> <span class="o">=</span> <span class="n">curvature</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">values</span>
      <span class="n">curvature</span> <span class="o">=</span> <span class="n">curvature</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">new_x</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">new_y</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">curvature</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

      <span class="c1"># Calculate slope</span>
      <span class="n">slope</span> <span class="o">=</span> <span class="n">xrspatial</span><span class="o">.</span><span class="n">slope</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
      <span class="n">mean_slope</span> <span class="o">=</span> <span class="n">slope</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">values</span>
      <span class="n">slope</span> <span class="o">=</span> <span class="n">slope</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">new_x</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">new_y</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="n">slope</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

      <span class="c1"># Fill pandas dataframe</span>
      <span class="n">df_station</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">stations_df</span><span class="p">[</span><span class="s1">&#39;lon&#39;</span><span class="p">],</span>
                             <span class="n">stations_df</span><span class="p">[</span><span class="s1">&#39;lat&#39;</span><span class="p">],</span>
                             <span class="n">station</span><span class="p">[</span><span class="s1">&#39;elevation_m&#39;</span><span class="p">],</span>
                             <span class="n">elevation</span><span class="o">.</span><span class="n">values</span><span class="p">,</span><span class="n">mean_elevation</span><span class="p">,</span>
                             <span class="n">aspect</span><span class="o">.</span><span class="n">values</span><span class="p">,</span><span class="n">mean_aspect</span><span class="p">,</span>
                             <span class="n">curvature</span><span class="o">.</span><span class="n">values</span><span class="p">,</span><span class="n">mean_curvature</span><span class="p">,</span>
                             <span class="n">slope</span><span class="o">.</span><span class="n">values</span><span class="p">,</span><span class="n">mean_slope</span><span class="p">,</span>
                             <span class="n">eastness</span><span class="o">.</span><span class="n">values</span><span class="p">,</span><span class="n">northness</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
                             <span class="n">mean_eastness</span><span class="p">,</span><span class="n">mean_northness</span><span class="p">]</span>

  <span class="c1"># Save output data into CSV format</span>
  <span class="n">df_station</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">stations_df</span><span class="p">[</span><span class="s1">&#39;station_name&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="n">idx</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">df_station</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">stations_outfile</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">add_more_points_to_the_gridcells</span><span class="p">():</span>
  <span class="c1"># check how many points are in the current grid_cell json</span>
  <span class="n">station_cell_mapping</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">work_dir</span><span class="si">}</span><span class="s2">/station_cell_mapping.csv&quot;</span>
  <span class="n">current_grid_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">station_cell_mapping</span><span class="p">)</span>
  
  <span class="nb">print</span><span class="p">(</span><span class="n">current_grid_df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">current_grid_df</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
  
  <span class="n">western_us_coords</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">work_dir</span><span class="si">}</span><span class="s1">/dem_file.tif.csv&#39;</span>
  <span class="n">dem_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">western_us_coords</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">dem_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">dem_df</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
  <span class="n">filtered_df</span> <span class="o">=</span> <span class="n">dem_df</span><span class="p">[</span><span class="n">dem_df</span><span class="p">[</span><span class="s1">&#39;Elevation&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">]</span>  <span class="c1"># choose samples from points higher than 20 meters</span>

  <span class="c1"># Randomly choose 700 rows from the filtered DataFrame</span>
  <span class="n">random_rows</span> <span class="o">=</span> <span class="n">filtered_df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">700</span><span class="p">)</span>
  <span class="n">random_rows</span> <span class="o">=</span> <span class="n">random_rows</span><span class="p">[[</span><span class="s2">&quot;Latitude&quot;</span><span class="p">,</span> <span class="s2">&quot;Longitude&quot;</span><span class="p">]]</span>
  <span class="n">random_rows</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;Latitude&#39;</span><span class="p">:</span> <span class="s1">&#39;lat&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;Longitude&#39;</span><span class="p">:</span> <span class="s1">&#39;lon&#39;</span>
  <span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="n">previous_cells</span> <span class="o">=</span> <span class="n">current_grid_df</span><span class="p">[[</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span> <span class="s2">&quot;lon&quot;</span><span class="p">]]</span>
  <span class="n">result_df</span> <span class="o">=</span> <span class="n">previous_cells</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">random_rows</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">result_df</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
  <span class="n">result_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">work_dir</span><span class="si">}</span><span class="s2">/new_training_points_with_random_dem_locations.csv&quot;</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;New training points are saved to </span><span class="si">{</span><span class="n">work_dir</span><span class="si">}</span><span class="s2">/new_training_points_with_random_dem_locations.csv&quot;</span><span class="p">)</span>
  
  
  
  <span class="c1"># find the random points that are on land from the dem.json</span>
  
  <span class="c1"># merge the grid_cell.json with the new dem points into a new grid_cell.json</span>
  
<span class="k">def</span> <span class="nf">find_closest_index</span><span class="p">(</span><span class="n">target_latitude</span><span class="p">,</span> <span class="n">target_longitude</span><span class="p">,</span> <span class="n">lat_grid</span><span class="p">,</span> <span class="n">lon_grid</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Find the closest grid point indices for a target latitude and longitude.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        target_latitude (float): Target latitude.</span>
<span class="sd">        target_longitude (float): Target longitude.</span>
<span class="sd">        lat_grid (numpy.ndarray): Array of latitude values.</span>
<span class="sd">        lon_grid (numpy.ndarray): Array of longitude values.</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: Latitude index.</span>
<span class="sd">        int: Longitude index.</span>
<span class="sd">        float: Closest latitude value.</span>
<span class="sd">        float: Closest longitude value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lat_diff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">lat_grid</span> <span class="o">-</span> <span class="n">target_latitude</span><span class="p">))</span>
    <span class="n">lon_diff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">lon_grid</span> <span class="o">-</span> <span class="n">target_longitude</span><span class="p">))</span>
    <span class="n">row_idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmin</span><span class="p">(</span><span class="n">lat_diff</span> <span class="o">+</span> <span class="n">lon_diff</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">row_idx</span>
  
  
<span class="k">def</span> <span class="nf">read_terrain_from_dem_csv</span><span class="p">():</span>
  <span class="n">western_us_coords</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">work_dir</span><span class="si">}</span><span class="s1">/dem_all.csv&#39;</span>
  <span class="n">western_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">western_us_coords</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;western_df.head() = &quot;</span><span class="p">,</span> <span class="n">western_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
  
  <span class="n">stations_file_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">stations_file</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;stations_file_df.head() = &quot;</span><span class="p">,</span> <span class="n">stations_file_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
  
  <span class="k">def</span> <span class="nf">find_closest_dem_row</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">western_df</span><span class="p">):</span>
    <span class="c1">#print(row)</span>
    <span class="n">row_idx</span> <span class="o">=</span> <span class="n">find_closest_index</span><span class="p">(</span>
      <span class="n">row</span><span class="p">[</span><span class="s2">&quot;latitude&quot;</span><span class="p">],</span>
      <span class="n">row</span><span class="p">[</span><span class="s2">&quot;longitude&quot;</span><span class="p">],</span>
      <span class="n">western_df</span><span class="p">[</span><span class="s2">&quot;Latitude&quot;</span><span class="p">],</span> 
      <span class="n">western_df</span><span class="p">[</span><span class="s2">&quot;Longitude&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">dem_row</span> <span class="o">=</span> <span class="n">western_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">row_idx</span><span class="p">]</span>
    <span class="n">new_row</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">row</span><span class="p">,</span> <span class="n">dem_row</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">new_row</span>
  
  <span class="n">stations_file_df</span> <span class="o">=</span> <span class="n">stations_file_df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">find_closest_dem_row</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">western_df</span><span class="p">,),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
  <span class="n">stations_file_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">stations_outfile</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
  

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
  <span class="k">try</span><span class="p">:</span>
    <span class="n">read_terrain_from_dem_csv</span><span class="p">()</span>
  <span class="k">except</span><span class="p">:</span>
    <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>western_df.head() =     Latitude  Longitude  x  y   Elevation     Slope     Aspect   Curvature  \
0      49.0   -125.000  0  0   15.124211  0.470627  272.35254  3624.44560   
1      49.0   -124.964  1  0  136.762280  0.454659  284.84660  1261.81840   
2      49.0   -124.928  2  0  258.745100  0.446243  282.81650 -1763.61730   
3      49.0   -124.892  3  0  387.150480  0.281288    6.37222 -2461.73140   
4      49.0   -124.856  4  0  213.531710  0.405632   30.24500  -511.48447   

   Northness  Eastness  
0   0.041025  0.784977  
1   0.250835  0.768424  
2   0.218295  0.772784  
3   0.782300 -0.110535  
4   0.712497 -0.466602  
stations_file_df.head() =      stationTriplet stationId stateCode networkCode                    name  \
0      ABY:CA:SNOW       ABY        CA        SNOW                   Abbey   
1     0010:ID:COOP      0010        ID        COOP  Aberdeen Experimnt Stn   
2     0041:NM:COOP      0041        NM        COOP             Abiquiu Dam   
3  08108010:NM:BOR  08108010        NM         BOR       Abiquiu Reservoir   
4    13E19:ID:SNOW     13E19        ID        SNOW           Above Gilmore   

  dcoCode  countyName           huc  elevation  latitude  longitude  \
0      UN      Plumas  1.802012e+11     5650.0  39.95500 -120.53800   
1      ID     Bingham  1.704021e+11     4410.0  42.95000 -112.83333   
2      UN  Rio Arriba  1.302010e+11     6380.0  36.23333 -106.43333   
3      CO  Rio Arriba  1.302010e+11     6180.0  36.23700 -106.42912   
4      ID       Lemhi  1.706020e+11     8289.0  44.45615 -113.30097   

   dataTimeZone  pedonCode shefId              beginDate     endDate  
0           NaN        NaN    NaN  1963-02-01 00:00:00.0  2100-01-01  
1           NaN        NaN  ABDI1  1914-01-01 00:00:00.0  2100-01-01  
2           NaN        NaN  ABIN5  1957-01-01 00:00:00.0  2100-01-01  
3           NaN        NaN    NaN  1964-09-01 00:00:00.0  2100-01-01  
4           NaN        NaN  ABGI1  1961-01-01 00:00:00.0  2100-01-01  
</pre></div>
</div>
</div>
</div>
<p>In our geospatial data processing workflow, we utilize various libraries to analyze terrain characteristics for the SnowCast project. We calculate attributes like elevation, aspect, curvature, slope, eastness, and northness for grid cells and station locations. Our process involves accessing Copernicus DEM data and leveraging the Planetary Computer service. Through this analysis, we contribute to a broader understanding of the geographic region under study.</p>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./chapters"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="overview.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Overview: Enhancing Snow Water Equivalent Forecasting Efficiency with PyGeoweaver</p>
      </div>
    </a>
    <a class="right-next"
       href="gridmet.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">GridMET Climatology Data Downloader</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Training and Testing Dataset Overview</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#gridmet-dataset">gridMET Dataset</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#insights">Insights</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#characteristics">Characteristics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-format">Data Format:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-sources-and-acquisition">Data Sources and Acquisition:</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#satellite-data">Satellite Data:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ground-based-observations">Ground-Based Observations:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#meteorological-models">Meteorological Models:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#applications">Applications:</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#gridmet-data-download">gridMET Data Download:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#amsr-dataset">AMSR Dataset</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-amsr">What is AMSR?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quick-look-at-the-data-collections">Quick Look at the Data Collections</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Characteristics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Data Format</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#amsr-data-collections">AMSR Data Collections</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#amsr-adeos-ii">AMSR/ADEOS-II</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#amsr2">AMSR2</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hosted-by-nsidc-daac">Hosted by NSIDC DAAC</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Applications</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#amsr-dataset-download">AMSR Dataset Download</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modis-dataset">MODIS Dataset</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-modis">What is MODIS?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Characteristics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Data Format</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modis-direct-broadcast">MODIS Direct Broadcast</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fsca">fSCA</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#snotel-dataset">SNOTEL dataset</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Introduction</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-snotel">What is SNOTEL?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#snotel-network-overview">SNOTEL Network Overview</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#composition-of-snotel">Composition of SNOTEL</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#operations-and-data-collection">Operations and Data Collection</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#telemetry-and-data-transmission">Telemetry and Data Transmission</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-collection-and-storage">Data Collection and Storage</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#enhanced-site-capabilities">Enhanced Site Capabilities</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">Characteristics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Data Format</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Applications</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#snotel-dataset-download-instructions">SNOTEL Dataset Download Instructions</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-navigate-to-the-scan-snowtel-website">Step 1: Navigate to the SCAN/SNOWTEL website</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-choose-data-product-and-location">Step 2: Choose Data Product and Location</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-view-inventory">Step 3: View Inventory</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-4-select-station-and-data">Step 4: Select Station and Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-5-download-data">Step 5: Download Data</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dem-dataset">DEM Dataset</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-dem-digital-elevation-model">Introduction to DEM (Digital Elevation Model):</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">Characteristics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Data Sources and Acquisition:</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#satellite-imagery">Satellite Imagery:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#aerial-lidar-light-detection-and-ranging">Aerial LiDAR (Light Detection and Ranging):</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topographic-surveys">Topographic Surveys:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">Applications:</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dem-data-download">DEM Data Download:</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Center for Spatial Information Science and Systems (CSISS), George Mason University
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>